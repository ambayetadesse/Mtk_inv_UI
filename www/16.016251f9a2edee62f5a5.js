(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"/K/L":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var c=n("cxbk"),i=n("fXoL"),o=n("tk/3"),r=n("ldse"),a=function(){function t(t,e){this.http=t,this.sharedService=e,this.APIURL=c.a.apiURL}return t.prototype.getItemList=function(){},t.prototype.create=function(t){return this.http.post(this.APIURL+"/items",t)},t.prototype.getBalanceByItemId=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemByLookup=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemByID=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemID=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemByStoreID=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getAllItem=function(){return this.http.get(this.APIURL+"/items")},t.prototype.getAllItemKEY=function(t,e,n,c,i){return this.http.get(this.APIURL+"/items",t)},t.prototype.updateItem=function(t){return this.http.put(this.APIURL+"/items",t)},t.prototype.removeItems=function(t){return this.http.delete(this.APIURL+"/items/"+t)},t.\u0275fac=function(e){return new(e||t)(i.kc(o.a),i.kc(r.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"3yil":function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n("S7rW"),n("4XzM"),n("EUDy"),n("Drjo");var c=n("XEKg"),i=n("5Jak"),o=n("/GcI"),r=n("HDdC"),a=n("cxbk"),s=n("fXoL"),u=n("tk/3"),l=function(){function t(t){this.http=t,this.APIURL=a.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/itemstorebalance",t)},t.prototype.getAllBalance=function(){return this.http.get(this.APIURL+"/itemstorebalance")},t.prototype.updateBalance=function(t){return this.http.put(this.APIURL+"/itemstorebalance/",t)},t.prototype.handleError=function(t){return r.a.throw(400===t.status?new c.a(t.json()):404===t.status?new i.a:new o.a(t))},t.\u0275fac=function(e){return new(e||t)(s.kc(u.a))},t.\u0275prov=s.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8RYG":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("cxbk"),i=n("fXoL"),o=n("tk/3"),r=function(){function t(t){this.http=t,this.APIURL=c.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/itemlocation",t)},t.prototype.getAllItemLocation=function(){return this.http.get(this.APIURL+"/itemlocation")},t.prototype.updateItemLoaction=function(t){return this.http.put(this.APIURL+"/itemlocation",t)},t.prototype.removeItemLocation=function(t){return this.http.delete(this.APIURL+"/itemlocation/"+t)},t.\u0275fac=function(e){return new(e||t)(i.kc(o.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},AcXa:function(t,e,n){"use strict";n.r(e),n.d(e,"ImportPageModule",function(){return v});var c=n("ofXK"),i=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),a=n("mrSG"),s=n("kU5c"),u=n("fXoL"),l=n("GIHS"),d=n("/K/L"),p=n("ldse"),f=n("8RYG"),m=n("c1WZ"),h=n("3yil"),b=[{path:"",component:function(){function t(t,e,n,c,i,o,r,a,s){this.fb=t,this.customerService=e,this.itemService=n,this.shardService=c,this.modalController=i,this.alertController=o,this.itemLocationService=r,this.stockAdjustmentService=a,this.balanceService=s,this.regform=this.fb.group({}),this.result=[],this.columnFileds=[],this.currentDate=(new Date).toISOString(),this.selectedDate=(new Date).toISOString(),this.minDate=(new Date).toISOString(),this.maxDate=(new Date).toISOString(),this.AddItemNo="0"}return t.prototype.ngOnInit=function(){this.regform=this.fb.group({dataType:["",i.s.required],file:["",i.s.required],date:[""]});var t=new Date;t.setDate(t.getDate()-5),this.minDate=t.toISOString(),(t=new Date).setDate(t.getDate()+5),this.maxDate=t.toISOString(),this.getItemLocation(),this.getBalanceStoreItem(),this.getStockAdjustment(),this.getItems(),this.readItemId()},t.prototype.readItemId=function(){var t=this,e=0;this.stockAdjustmentService.getAllStockAdjustment().subscribe(function(n){return Object(a.a)(t,void 0,void 0,function(){var t;return Object(a.c)(this,function(c){switch(c.label){case 0:return 0!=n.length?[3,1]:(e=1,[3,3]);case 1:return[4,n.length];case 2:e=c.sent()+1,c.label=3;case 3:return this.stockNo="0",t=this.stockNo.padStart(4,"0"),this.AddItemNo="SA-"+t+e,[2]}})})})},t.prototype.getItemLocation=function(){var t=this;this.itemLocationService.getAllItemLocation().subscribe(function(e){return Object(a.a)(t,void 0,void 0,function(){var t;return Object(a.c)(this,function(n){switch(n.label){case 0:return t=this,[4,e];case 1:return t.listOfItemLocation=n.sent(),[2]}})})})},t.prototype.getStockAdjustment=function(){var t=this;this.stockAdjustmentService.getAllStockAdjustment().subscribe(function(e){return Object(a.a)(t,void 0,void 0,function(){var t;return Object(a.c)(this,function(n){switch(n.label){case 0:return t=this,[4,e];case 1:return t.listOfStockAdjust=n.sent(),[2]}})})})},t.prototype.getBalanceStoreItem=function(){var t=this;this.balanceService.getAllBalance().subscribe(function(e){return Object(a.a)(t,void 0,void 0,function(){var t;return Object(a.c)(this,function(n){switch(n.label){case 0:return t=this,[4,e];case 1:return t.listOfBalanceStore=n.sent(),[2]}})})})},t.prototype.getItems=function(){var t=this;this.itemService.getAllItem().subscribe(function(e){return Object(a.a)(t,void 0,void 0,function(){var t;return Object(a.c)(this,function(n){switch(n.label){case 0:return t=this,[4,e];case 1:return t.listOfItems=n.sent(),[2]}})})})},t.prototype.onFileChange=function(t){var e=this;this.selectedFile=t.target.files[0];var n=new FileReader;n.onload=function(t){e.csvJSON(n.result)},n.readAsText(this.selectedFile)},t.prototype.csvJSON=function(t){var e=t.split(/\r|\n|\r/);this.result=[];var n=e[0].split(",");this.columnFileds=n;for(var c=1;c<e.length-1;c++){var i=e[c].split(",");if(i.length===n.length){for(var o=[],r=0;r<n.length;r++)o[n[r]]=i[r];this.result.push(o)}}return JSON.stringify(this.result)},t.prototype.Canel=function(){},t.prototype.openDetailImport=function(){return Object(a.a)(this,void 0,void 0,function(){var t;return Object(a.c)(this,function(e){switch(e.label){case 0:return t=this.regform.get("dataType").value,[4,this.modalController.create({component:s.a,cssClass:"my-custom",componentProps:{data:this.columnFileds,datalist:this.result,type:t}})];case 1:return[4,e.sent().present().then(function(t){})];case 2:return[2,e.sent()]}})})},t.prototype.Save=function(){var t=this;this.dataType=this.regform.get("dataType").value,this.result.forEach("items"==this.dataType?function(e){t.itemsList={name:e.name,AmaricName:e.AmaricName,discrption:e.discrption,CatagoryId:e.CatagoryId,type:e.type,price:parseFloat(e.price),Quantity:parseInt(e.Quantity),cost:parseInt(e.cost),picture:e.picture,storeid:e.storeid,brand:e.brand,remark:e.remark},t.itemService.create(t.itemsList).subscribe(function(e){t.shardService.itemsId.subscribe(function(e){if(console.log(e),t.x=t.itemId==e?1:0,0==t.x){var n=t.listOfItems.find(function(t){return t.id==e});t.itemLocationService.create({itemId:e,location:n.storeid,quantity:n.quantity}).subscribe(function(){console.log("Inserted")}),t.balanceService.create({itemId:e,beginingQuantity:n.quantity,currentQuantity:n.quantity,storeId:n.storeid}).subscribe(function(){console.log("Inserted")}),t.stockAdjustmentService.create({transactionType:"Stock Adjustment",transactionNumber:t.AddItemNo,itemId:e,store:n.storeid,QuantityBefore:0,QuantityAfter:n.quantity,Quantity:n.quantity,date:t.selectedDate}).subscribe(function(){}),t.x=t.x+1,t.itemId=e}})})}:function(e){t.customerList={fullname:e.fullname,phonenumber:e.phonenumber,location:e.location,balance:e.balance,address:e.address},t.customerService.create(t.customerList).subscribe(function(){console.log("Inserted")})}),this.presentAlert(),this.regform.reset()},t.prototype.presentAlert=function(){return Object(a.a)(this,void 0,void 0,function(){return Object(a.c)(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:this.dataType,message:this.dataType+" Import successfully.",buttons:["OK"]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.\u0275fac=function(e){return new(e||t)(u.Yb(i.c),u.Yb(l.a),u.Yb(d.a),u.Yb(p.a),u.Yb(o.Z),u.Yb(o.a),u.Yb(f.a),u.Yb(m.a),u.Yb(h.a))},t.\u0275cmp=u.Sb({type:t,selectors:[["app-import"]],decls:29,vars:4,consts:[["color","primary"],["slot","start"],[1,"labelInfo"],[3,"formGroup"],["hidden",""],["displayFormat","MMM DD, YYYY HH:mm:ss","formControlName","date",3,"min","max","ngModel","ngModelChange"],["formControlName","dataType","interface","popover"],["value","items","selected",""],["value","customer"],["lines","full"],["formControlName","file","type","file","id","file-button-id",3,"change"],[2,"text-align","center","margin","auto"],["id","add items",3,"click"],["slot","start","name","add-circle-outline"]],template:function(t,e){1&t&&(u.dc(0,"ion-header"),u.dc(1,"ion-toolbar",0),u.dc(2,"ion-buttons",1),u.Zb(3,"ion-menu-button"),u.cc(),u.dc(4,"ion-title"),u.Oc(5,"import data"),u.cc(),u.cc(),u.cc(),u.dc(6,"ion-content"),u.dc(7,"div",2),u.dc(8,"ion-label"),u.Oc(9,"If your spreadsheet is not in CSV format yet, you can use Microsoft Excel or Google Sheets and save it as a CSV"),u.cc(),u.cc(),u.dc(10,"form",3),u.dc(11,"ion-item",4),u.dc(12,"ion-datetime",5),u.oc("ngModelChange",function(t){return e.currentDate=t}),u.cc(),u.cc(),u.dc(13,"ion-item"),u.dc(14,"ion-label"),u.Oc(15,"Data type"),u.cc(),u.dc(16,"ion-select",6),u.dc(17,"ion-select-option",7),u.Oc(18,"items"),u.cc(),u.dc(19,"ion-select-option",8),u.Oc(20,"customers"),u.cc(),u.cc(),u.cc(),u.dc(21,"ion-item",9),u.dc(22,"ion-label"),u.Oc(23,"File"),u.cc(),u.dc(24,"input",10),u.oc("change",function(t){return e.onFileChange(t)}),u.cc(),u.cc(),u.dc(25,"div",11),u.dc(26,"ion-button",12),u.oc("click",function(){return e.Save()}),u.Zb(27,"ion-icon",13),u.Oc(28," Next"),u.cc(),u.cc(),u.cc(),u.cc()),2&t&&(u.Mb(10),u.wc("formGroup",e.regform),u.Mb(2),u.wc("min",e.minDate)("max",e.maxDate)("ngModel",e.currentDate))},directives:[o.s,o.V,o.f,o.E,o.U,o.m,o.A,i.t,i.l,i.f,o.w,o.n,o.gb,i.k,i.d,o.P,o.Q,i.a,o.e,o.t],styles:[".btn-file[_ngcontent-%COMP%]{position:relative;overflow:hidden}.btn-file[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{position:absolute;top:0;right:0;min-width:100%;min-height:100%;font-size:100px;text-align:right;filter:alpha(opacity=0);opacity:0;outline:none;background:#fff;cursor:inherit;display:block}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0;--border-radius:14px}ion-content[_ngcontent-%COMP%]   .labelInfo[_ngcontent-%COMP%]{margin:14px}"]}),t}()},{path:"import-details",loadChildren:function(){return n.e(31).then(n.bind(null,"iT1v")).then(function(t){return t.ImportDetailsPageModule})}}],g=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Wb({type:t}),t.\u0275inj=u.Vb({imports:[[r.j.forChild(b)],r.j]}),t}(),v=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=u.Wb({type:t}),t.\u0275inj=u.Vb({imports:[[c.b,i.g,o.W,g,i.q]]}),t}()},c1WZ:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("cxbk"),i=n("fXoL"),o=n("tk/3"),r=function(){function t(t){this.http=t,this.APIURL=c.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/stockadjustment",t)},t.prototype.getAllStockAdjustment=function(){return this.http.get(this.APIURL+"/stockadjustment")},t.prototype.updateStockAdjustment=function(t){return this.http.put(this.APIURL+"/stockadjustment",t)},t.prototype.deleteStockAdjustment=function(t){return this.http.delete(this.APIURL+"/stockadjustment/"+t)},t.\u0275fac=function(e){return new(e||t)(i.kc(o.a))},t.\u0275prov=i.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},kU5c:function(t,e,n){"use strict";n.d(e,"a",function(){return m});var c=n("fXoL"),i=n("3Pt+"),o=n("TEn/"),r=n("ofXK");function a(t,e){if(1&t&&(c.dc(0,"ion-select-option",11),c.Oc(1),c.cc()),2&t){var n=e.$implicit,i=e.index;c.xc("value",n),c.Mb(1),c.Rc(" ",n,"",i," ")}}function s(t,e){if(1&t&&(c.dc(0,"ion-select-option",11),c.Oc(1),c.cc()),2&t){var n=e.$implicit;c.xc("value",n),c.Mb(1),c.Qc(" ",n," ")}}function u(t,e){if(1&t&&(c.dc(0,"ion-select-option",11),c.Oc(1),c.cc()),2&t){var n=e.$implicit;c.xc("value",n),c.Mb(1),c.Qc(" ",n," ")}}function l(t,e){if(1&t&&(c.dc(0,"ion-select-option",11),c.Oc(1),c.cc()),2&t){var n=e.$implicit;c.xc("value",n),c.Mb(1),c.Qc(" ",n," ")}}function d(t,e){if(1&t&&(c.dc(0,"ion-select-option",11),c.Oc(1),c.cc()),2&t){var n=e.$implicit;c.xc("value",n),c.Mb(1),c.Qc(" ",n," ")}}function p(t,e){if(1&t&&(c.dc(0,"td",12),c.dc(1,"b"),c.Oc(2),c.cc(),c.cc()),2&t){var n=e.$implicit;c.Mb(2),c.Pc(n)}}function f(t,e){if(1&t&&(c.dc(0,"tr"),c.dc(1,"td"),c.Oc(2),c.cc(),c.dc(3,"td"),c.dc(4,"ion-input",13),c.oc("ngModelChange",function(t){return e.$implicit.fullname=t}),c.cc(),c.cc(),c.dc(5,"td"),c.Oc(6),c.cc(),c.dc(7,"td"),c.Oc(8),c.cc(),c.dc(9,"td"),c.Oc(10),c.cc(),c.dc(11,"td"),c.Oc(12),c.cc(),c.cc()),2&t){var n=e.$implicit;c.Mb(2),c.Pc(n.id),c.Mb(2),c.wc("ngModel",n.fullname),c.Mb(2),c.Pc(n.phonenumber),c.Mb(2),c.Pc(n.location),c.Mb(2),c.Pc(n.balance),c.Mb(2),c.Pc(n.address)}}var m=function(){function t(t){this.fb=t,this.importData=[],this.dataList=[],this.regform=this.fb.group({})}return t.prototype.ngOnInit=function(){this.regform=this.fb.group({fullname:[""],phonenumber:[""],location:[""],balance:[""],address:[""]}),this.importData=Object.assign(this.data),this.dataList=Object.assign(this.datalist),console.log(this.importData)},t.prototype.trackByFn=function(t,e){return t},t.\u0275fac=function(e){return new(e||t)(c.Yb(i.c))},t.\u0275cmp=c.Sb({type:t,selectors:[["app-import-details"]],inputs:{data:"data",type:"type",datalist:"datalist"},decls:36,vars:9,consts:[[3,"formGroup"],["interface","popover","formControlName","fullname"],[3,"value",4,"ngFor","ngForOf"],["interface","popover","formControlName","phonenumber"],["interface","popover","formControlName","location"],["interface","popover","formControlName","balance"],["interface","popover","formControlName","address"],["scrollX","true","scrollY","true"],["border","1",1,"data-table"],["text-center","",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"value"],["text-center",""],["type","text",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(c.dc(0,"ion-header"),c.dc(1,"ion-toolbar"),c.dc(2,"ion-title"),c.Oc(3),c.cc(),c.cc(),c.cc(),c.dc(4,"ion-content"),c.dc(5,"form",0),c.dc(6,"ion-item"),c.dc(7,"ion-label"),c.Oc(8,"Full Name"),c.cc(),c.dc(9,"ion-select",1),c.Mc(10,a,2,3,"ion-select-option",2),c.cc(),c.cc(),c.dc(11,"ion-item"),c.dc(12,"ion-label"),c.Oc(13,"Phone number"),c.cc(),c.dc(14,"ion-select",3),c.Mc(15,s,2,2,"ion-select-option",2),c.cc(),c.cc(),c.dc(16,"ion-item"),c.dc(17,"ion-label"),c.Oc(18,"Location"),c.cc(),c.dc(19,"ion-select",4),c.Mc(20,u,2,2,"ion-select-option",2),c.cc(),c.cc(),c.dc(21,"ion-item"),c.dc(22,"ion-label"),c.Oc(23,"Balance"),c.cc(),c.dc(24,"ion-select",5),c.Mc(25,l,2,2,"ion-select-option",2),c.cc(),c.cc(),c.dc(26,"ion-item"),c.dc(27,"ion-label"),c.Oc(28,"Address"),c.cc(),c.dc(29,"ion-select",6),c.Mc(30,d,2,2,"ion-select-option",2),c.cc(),c.cc(),c.cc(),c.dc(31,"ion-content",7),c.dc(32,"table",8),c.dc(33,"tr"),c.Mc(34,p,3,1,"td",9),c.cc(),c.Mc(35,f,13,6,"tr",10),c.cc(),c.cc(),c.cc()),2&t&&(c.Mb(3),c.Qc(" Import ",e.type,""),c.Mb(2),c.wc("formGroup",e.regform),c.Mb(5),c.wc("ngForOf",e.importData),c.Mb(5),c.wc("ngForOf",e.importData),c.Mb(5),c.wc("ngForOf",e.importData),c.Mb(5),c.wc("ngForOf",e.importData),c.Mb(5),c.wc("ngForOf",e.importData),c.Mb(4),c.wc("ngForOf",e.importData),c.Mb(1),c.wc("ngForOf",e.dataList))},directives:[o.s,o.V,o.U,o.m,i.t,i.l,i.f,o.w,o.A,o.P,o.gb,i.k,i.d,r.k,o.Q,o.v,o.hb,i.n],styles:[".data-col[_ngcontent-%COMP%]{background:#f0f0f0}.has-focus[_ngcontent-%COMP%]{--background:#fdf696}.data-table[_ngcontent-%COMP%]{min-width:800px}"]}),t}()}}]);