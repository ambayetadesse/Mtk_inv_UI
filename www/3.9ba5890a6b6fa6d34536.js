(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"/6mc":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("HDdC"),o=i("cxbk"),r=i("/GcI"),c=i("XEKg"),s=i("5Jak"),a=i("fXoL"),u=i("tk/3"),l=function(){function t(t){this.http=t,this.APIURL=o.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/vendors",t)},t.prototype.getAllVendor=function(){return this.http.get(this.APIURL+"/vendors")},t.prototype.getVendorById=function(t){return this.http.get(this.APIURL+"/vendors",t)},t.prototype.updateVendor=function(t){return this.http.put(this.APIURL+"/vendors",t)},t.prototype.addSupplier=function(t){return this.http.get(this.APIURL+"/vendors",t)},t.prototype.removeVendor=function(t){return this.http.delete(this.APIURL+"/vendors/"+t)},t.prototype.handleError=function(t){return n.a.throw(400===t.status?new c.a(t.json()):404===t.status?new s.a:new r.a(t))},t.\u0275fac=function(e){return new(e||t)(a.kc(u.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"/K/L":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=i("ldse"),s=function(){function t(t,e){this.http=t,this.sharedService=e,this.APIURL=n.a.apiURL}return t.prototype.getItemList=function(){},t.prototype.create=function(t){return this.http.post(this.APIURL+"/items",t)},t.prototype.getBalanceByItemId=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemByLookup=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemByID=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemID=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getItemByStoreID=function(t){return this.http.get(this.APIURL+"/items",t)},t.prototype.getAllItem=function(){return this.http.get(this.APIURL+"/items")},t.prototype.getAllItemKEY=function(t,e,i,n,o){return this.http.get(this.APIURL+"/items",t)},t.prototype.updateItem=function(t){return this.http.put(this.APIURL+"/items",t)},t.prototype.removeItems=function(t){return this.http.delete(this.APIURL+"/items/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a),o.kc(c.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"0btD":function(t,e,i){"use strict";i.d(e,"a",function(){return et});var n=i("mrSG"),o=i("3Pt+"),r=i("gcOT"),c=i("5RWQ"),s=i("cm4A"),a=i("zvEI"),u=i("fXoL"),l=i("TEn/"),h=i("jgFG"),d=i("rlNE"),f=i("JuFC"),p=i("/K/L"),m=i("3yil"),g=i("cHRp"),b=i("ldse"),v=i("8RYG"),y=i("c1WZ"),I=i("ofXK"),O=i("oOf3"),S=i("Gkpw"),k=i("ZzPI"),L=i("WYlB"),A=i("6t9p"),w=i("PVOt"),C=i("cZdB"),M=["filePicker"],j=["pageTop"];function x(t,e){1&t&&(u.dc(0,"ion-buttons",11),u.Zb(1,"ion-menu-button"),u.cc())}function P(t,e){1&t&&(u.dc(0,"ion-title"),u.Oc(1,"Create Items"),u.cc())}function R(t,e){1&t&&(u.dc(0,"ion-title"),u.Oc(1,"Select Items"),u.cc())}function U(t,e){if(1&t){var i=u.ec();u.dc(0,"ion-buttons",12),u.dc(1,"ion-icon",13),u.oc("click",function(){return u.Fc(i),u.qc().closeItems()}),u.cc(),u.cc()}}function T(t,e){1&t&&(u.dc(0,"small",41),u.Oc(1,"This field is required!"),u.cc())}function q(t,e){1&t&&(u.dc(0,"small",41),u.Oc(1," This field is required!"),u.cc())}function N(t,e){if(1&t&&(u.dc(0,"ion-select-option",42),u.Oc(1),u.cc()),2&t){var i=e.$implicit;u.xc("value",null==i?null:i.id),u.Mb(1),u.Qc(" ",null==i?null:i.categoryName," ")}}function V(t,e){1&t&&(u.dc(0,"small",41),u.Oc(1," This field is required!"),u.cc())}function F(t,e){1&t&&(u.dc(0,"small",41),u.Oc(1," This field is required!"),u.cc())}function D(t,e){if(1&t){var i=u.ec();u.dc(0,"ion-list"),u.dc(1,"ion-item"),u.dc(2,"ion-label"),u.Oc(3,"AA Lebu "),u.cc(),u.dc(4,"ion-input",43),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc(2).locationId2=t}),u.cc(),u.dc(5,"ion-input",44),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc(2).quantity2=t})("keyup",function(){u.Fc(i);var t=u.qc(2);return t.onKey(t.AAlebu,t.quantity2,t.locationId2)}),u.cc(),u.cc(),u.dc(6,"ion-item"),u.dc(7,"ion-label"),u.Oc(8,"AA Chirkos"),u.cc(),u.dc(9,"ion-input",45),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc(2).locationId1=t}),u.cc(),u.dc(10,"ion-input",46),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc(2).quantity1=t})("keyup",function(){u.Fc(i);var t=u.qc(2);return t.onKey(t.AAchirkos,t.quantity1,t.locationId1)}),u.cc(),u.cc(),u.cc()}if(2&t){var n=u.qc(2);u.Mb(4),u.wc("ngModel",n.locationId2),u.Mb(1),u.wc("ngModel",n.quantity2),u.Mb(4),u.wc("ngModel",n.locationId1),u.Mb(1),u.wc("ngModel",n.quantity1)}}function B(t,e){1&t&&(u.dc(0,"small"),u.Oc(1,"This field is required! "),u.cc())}function Q(t,e){1&t&&(u.dc(0,"small"),u.Oc(1," This field is required! "),u.cc())}function E(t,e){1&t&&(u.dc(0,"small"),u.Oc(1," This field is required! "),u.cc())}function Z(t,e){if(1&t){var i=u.ec();u.dc(0,"ion-img",47),u.oc("click",function(){return u.Fc(i),u.qc(2).onPickImage()}),u.cc()}if(2&t){var n=u.qc(2);u.wc("src",n.base64textString)}}function Y(t,e){if(1&t){var i=u.ec();u.dc(0,"ion-button",48),u.oc("click",function(){return u.Fc(i),u.qc(2).onPickImage()}),u.Zb(1,"ion-icon",49),u.dc(2,"ion-label"),u.Oc(3,"Take Picture"),u.cc(),u.cc()}}function _(t,e){if(1&t){var i=u.ec();u.dc(0,"input",50,51),u.oc("change",function(t){return u.Fc(i),u.qc(2).onFileChosen(t)}),u.cc()}}function G(t,e){if(1&t){var i=u.ec();u.dc(0,"div"),u.dc(1,"form",14),u.dc(2,"ion-list"),u.dc(3,"ion-item",15),u.dc(4,"ion-datetime",16),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc().currentDate=t}),u.cc(),u.Oc(5," StockAdNumber "),u.cc(),u.dc(6,"ion-item"),u.dc(7,"ion-label"),u.Oc(8,"Name "),u.cc(),u.Zb(9,"ion-input",17),u.Mc(10,T,2,0,"small",18),u.cc(),u.dc(11,"ion-item"),u.dc(12,"ion-label"),u.Oc(13,"Amharic Name "),u.cc(),u.Zb(14,"ion-input",19),u.Mc(15,q,2,0,"small",18),u.cc(),u.dc(16,"ion-item"),u.dc(17,"ion-label"),u.Oc(18,"Item Category"),u.cc(),u.dc(19,"ion-select",20),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc().SelectedCatagory=t}),u.Mc(20,N,2,2,"ion-select-option",21),u.cc(),u.Mc(21,V,2,0,"small",18),u.cc(),u.dc(22,"ion-item"),u.dc(23,"ion-label"),u.Oc(24,"Item Type"),u.cc(),u.dc(25,"ion-select",22),u.oc("ngModelChange",function(t){return u.Fc(i),u.qc().itemType=t}),u.dc(26,"ion-select-option",23),u.Oc(27,"Stocked product"),u.cc(),u.dc(28,"ion-select-option",24),u.Oc(29,"Serialized product"),u.cc(),u.dc(30,"ion-select-option",25),u.Oc(31,"Non-Stocked product"),u.cc(),u.dc(32,"ion-select-option",26),u.Oc(33,"Service"),u.cc(),u.cc(),u.Mc(34,F,2,0,"small",18),u.cc(),u.Mc(35,D,11,4,"ion-list",3),u.dc(36,"ion-item",27),u.dc(37,"ion-label",12),u.Oc(38," Quantity "),u.cc(),u.dc(39,"ion-input",28),u.oc("click",function(){return u.Fc(i),u.qc().AddLocation()}),u.cc(),u.cc(),u.dc(40,"ion-item"),u.dc(41,"ion-label"),u.Oc(42,"Description "),u.cc(),u.Zb(43,"ion-input",29),u.Mc(44,B,2,0,"small",3),u.cc(),u.dc(45,"ion-item"),u.dc(46,"ion-label"),u.Oc(47,"Price "),u.cc(),u.Zb(48,"ion-input",30),u.Mc(49,Q,2,0,"small",3),u.cc(),u.dc(50,"ion-item"),u.dc(51,"ion-label"),u.Oc(52,"Cost "),u.cc(),u.Zb(53,"ion-input",31),u.Mc(54,E,2,0,"small",3),u.cc(),u.dc(55,"ion-item"),u.dc(56,"ion-label"),u.Oc(57,"Brand "),u.cc(),u.Zb(58,"ion-input",32),u.cc(),u.dc(59,"ion-item"),u.dc(60,"ion-label"),u.Oc(61,"Remark "),u.cc(),u.Zb(62,"ion-textarea",33),u.cc(),u.dc(63,"div",34),u.Mc(64,Z,1,1,"ion-img",35),u.Mc(65,Y,4,0,"ion-button",36),u.cc(),u.Mc(66,_,2,0,"input",37),u.dc(67,"div",38),u.dc(68,"ion-button",39),u.oc("click",function(){return u.Fc(i),u.qc().Save()}),u.Zb(69,"ion-icon",40),u.Oc(70),u.cc(),u.cc(),u.cc(),u.cc(),u.cc()}if(2&t){var n=u.qc();u.Mb(1),u.wc("formGroup",n.regform),u.Mb(3),u.wc("min",n.minDate)("max",n.maxDate)("ngModel",n.currentDate),u.Mb(6),u.wc("ngIf",n.regform.get("name").touched&&n.regform.get("name").hasError("required")),u.Mb(5),u.wc("ngIf",!n.regform.get("AmaricName").valid&&n.regform.get("AmaricName").touched),u.Mb(4),u.wc("ngModel",n.SelectedCatagory),u.Mb(1),u.wc("ngForOf",n.ListOfItemCategory),u.Mb(1),u.wc("ngIf",!n.regform.get("CatagoryId").valid&&n.regform.get("CatagoryId").touched),u.Mb(4),u.wc("ngModel",n.itemType),u.Mb(9),u.wc("ngIf",!n.regform.get("type").valid&&n.regform.get("type").touched),u.Mb(1),u.wc("ngIf",n.storeV),u.Mb(4),u.wc("ngModel",n.Qty),u.Mb(5),u.wc("ngIf",!n.regform.get("discrption").valid&&n.regform.get("discrption").touched),u.Mb(5),u.wc("ngIf",!n.regform.get("price").valid&&n.regform.get("price").touched),u.Mb(5),u.wc("ngIf",!n.regform.get("cost").valid&&n.regform.get("cost").touched),u.Mb(10),u.wc("ngIf",n.base64textString),u.Mb(1),u.wc("ngIf",!n.base64textString),u.Mb(1),u.wc("ngIf",n.usePicker),u.Mb(4),u.Qc(" ",n.editMode?"Update Items":"Add Items"," ")}}function K(t,e){1&t&&(u.dc(0,"tr"),u.dc(1,"td",59),u.Oc(2," No item selected for this order. "),u.cc(),u.cc())}function X(t,e){if(1&t){var i=u.ec();u.dc(0,"tr"),u.dc(1,"th",60),u.Oc(2),u.cc(),u.dc(3,"td"),u.dc(4,"ion-thumbnail",11),u.Zb(5,"img",61),u.cc(),u.cc(),u.dc(6,"td"),u.Oc(7),u.cc(),u.dc(8,"td"),u.Oc(9),u.cc(),u.dc(10,"td",62),u.oc("click",function(){u.Fc(i);var t=e.$implicit;return u.qc(2).Edit(t)}),u.Zb(11,"ion-icon",63),u.cc(),u.dc(12,"td",64),u.oc("click",function(){u.Fc(i);var t=e.$implicit;return u.qc(2).historyOfItems(t)}),u.Zb(13,"ion-icon",65),u.cc(),u.dc(14,"td",62),u.oc("click",function(){u.Fc(i);var t=e.$implicit;return u.qc(2).delete(t)}),u.Zb(15,"ion-icon",66),u.cc(),u.cc()}if(2&t){var n=e.$implicit,o=e.index,r=u.qc(2);u.Qb("active",o==r.currentIndex),u.Mb(2),u.Pc(o+1),u.Mb(3),u.wc("src",n.picture,u.Hc),u.Mb(2),u.Pc(n.name),u.Mb(2),u.Pc(n.quantity)}}var z=function(t,e,i){return{itemsPerPage:t,currentPage:e,totalItems:i}};function H(t,e){if(1&t){var i=u.ec();u.dc(0,"div"),u.dc(1,"ion-searchbar",52),u.oc("keyup",function(t){return u.Fc(i),u.qc().filter(t)})("ngModelChange",function(t){return u.Fc(i),u.qc().searchText=t}),u.cc(),u.dc(2,"table",53),u.dc(3,"colgroup"),u.Zb(4,"col",54),u.Zb(5,"col",54),u.Zb(6,"col",54),u.Zb(7,"col",54),u.Zb(8,"col",54),u.cc(),u.dc(9,"thead"),u.dc(10,"tr"),u.dc(11,"th",55),u.Oc(12,"#"),u.cc(),u.dc(13,"th",55),u.Oc(14,"Image"),u.cc(),u.dc(15,"th",55),u.Oc(16,"Name"),u.cc(),u.dc(17,"th",55),u.Oc(18,"Quantity"),u.cc(),u.dc(19,"th",55),u.Oc(20,"Actions"),u.cc(),u.cc(),u.cc(),u.dc(21,"tbody"),u.Mc(22,K,3,0,"tr",3),u.Mc(23,X,16,6,"tr",56),u.rc(24,"paginate"),u.rc(25,"filter"),u.cc(),u.cc(),u.dc(26,"div",57),u.dc(27,"pagination-controls",58),u.oc("pageChange",function(t){return u.Fc(i),u.qc().onTableDataChange(t)}),u.cc(),u.cc(),u.cc()}if(2&t){var n=u.qc();u.Mb(1),u.wc("ngModel",n.searchText),u.Mb(21),u.wc("ngIf",0==(null==n.listofItems?null:n.listofItems.length)),u.Mb(1),u.wc("ngForOf",u.tc(24,3,u.tc(25,6,n.listofItems,n.searchText),u.Cc(9,z,n.tableSize,n.page,n.count)))}}function W(t,e){if(1&t&&(u.dc(0,"div"),u.Zb(1,"img",61),u.cc()),2&t){var i=e.$implicit;u.Mb(1),u.xc("src",i.value,u.Hc)}}function J(t,e){if(1&t){var i=u.ec();u.dc(0,"div"),u.dc(1,"dx-select-box",67),u.oc("onValueChanged",function(t){return u.Fc(i),u.qc().filterSelected(t)}),u.cc(),u.dc(2,"dx-button",68),u.oc("onClick",function(){return u.Fc(i),u.Ec(4).instance.clearSelection()}),u.cc(),u.dc(3,"dx-data-grid",69,70),u.oc("selectedRowKeysChange",function(t){return u.Fc(i),u.qc().selectedRows=t})("onSelectionChanged",function(t){return u.Fc(i),u.qc().selectionChangedHandler(t)}),u.Zb(5,"dxo-selection",71),u.Zb(6,"dxo-paging",72),u.Zb(7,"dxo-filter-row",73),u.Zb(8,"dxi-column",74),u.Zb(9,"dxi-column",75),u.Zb(10,"dxi-column",76),u.Mc(11,W,2,1,"div",77),u.cc(),u.dc(12,"ion-button",78),u.oc("click",function(){return u.Fc(i),u.qc().selectedItems()}),u.Oc(13,"select"),u.cc(),u.cc()}if(2&t){var n=u.qc();u.Mb(1),u.wc("dataSource",n.catagoryName)("value",n.catagoryName),u.Mb(1),u.wc("disabled",!(null!=n.selectedRows&&n.selectedRows.length)),u.Mb(1),u.wc("dataSource",n.listofItems)("selectedRowKeys",n.selectedRows)("showBorders",!0)("showRowLines",!0),u.Mb(2),u.wc("selectAllMode",n.allMode)("showCheckBoxesMode",n.checkBoxesMode),u.Mb(1),u.wc("pageSize",10),u.Mb(1),u.wc("visible",!0),u.Mb(1),u.wc("width",90),u.Mb(1),u.wc("width",180),u.Mb(2),u.wc("dxTemplateOf","cellTemplate")}}function $(t,e){if(1&t){var i=u.ec();u.dc(0,"ion-footer"),u.dc(1,"ion-toolbar"),u.dc(2,"ion-row",79),u.dc(3,"ion-col"),u.dc(4,"ion-button",80),u.oc("click",function(){return u.Fc(i),u.qc().fliter()}),u.Zb(5,"ion-icon",81),u.Oc(6,"Filter "),u.cc(),u.cc(),u.dc(7,"ion-col"),u.dc(8,"ion-button",80),u.oc("click",function(){return u.Fc(i),u.qc().sort()}),u.Oc(9,"Sort by "),u.cc(),u.dc(10,"ion-label"),u.Oc(11),u.cc(),u.cc(),u.cc(),u.cc(),u.cc()}if(2&t){var n=u.qc();u.Mb(11),u.Pc(n.sortName)}}var tt=function(t,e){return{"location-visible":t,"location-hidden":e}},et=function(){function t(t,e,i,n,r,c,s,a,u,l,h,d,f){this.fb=t,this.platform=e,this.CategoryService=i,this.ItemCategoryService=n,this.alertController=r,this.lookupService=c,this.itemsService=s,this.balanceService=a,this.lookupCatagoryService=u,this.modelControler=l,this.shardService=h,this.itemLocationService=d,this.stockAdjustmentService=f,this.usePicker=!1,this.regform=new o.e({}),this.editMode=!1,this.itemType="Stocked product",this.page=1,this.count=0,this.tableSize=5,this.tableSizes=[3,6,9,12],this.currentIndex=-1,this.isValid=!0,this.listItems=!0,this.x=0,this.form=!0,this.itemsMenu=!0,this.closeButton=!1,this.listItemsOfAdd=!1,this.y=0,this.selectAllModeVlaue="page",this.selectionModeValue="all",this.arr_names=new Array,this.listOfItemsNew=[],this.catagoryName=[],this.tittleItems=!0,this.tittleSelectItems=!1,this.oldListOfItems=[],this.listSelectedRowsIndex=[],this.sortN=0,this.listOfStore=[],this.subStoreData=[],this.storeV=!1,this.listOfStoreData=[],this.defaultStore="AA Labu",this.itemStoreBalance=[],this.location1=6,this.location=7,this.quantity1=0,this.quantity2=0,this.defaultQty=0,this.Qty=0,this.currentDate=(new Date).toISOString(),this.selectedDate=(new Date).toISOString(),this.minDate=(new Date).toISOString(),this.maxDate=(new Date).toISOString(),this.stockAdjustmentNo="0",this.showScroll=!1,this.fields={text:"name",value:"name"},this.watermark2="Select Store",this.height="250px",this.allMode="allPages",this.checkBoxesMode="onClick";var p=new Date;p.setDate(p.getDate()-5),this.minDate=p.toISOString(),(p=new Date).setDate(p.getDate()+5),this.maxDate=p.toISOString()}return t.prototype.pageScroller=function(){this.pageTop.scrollToTop()},t.prototype.ngOnInit=function(){this.regform1=this.fb.group({name:[""],quantity:[""]}),this.regform=this.fb.group({name:["",o.s.compose([o.s.required,o.s.pattern("[a-zA-Z0-9 ]*")])],AmaricName:[""],discrption:[""],CatagoryId:["",o.s.required],type:["",o.s.required],cost:["",o.s.required],price:["",o.s.required],Quantity:["",o.s.compose([o.s.required,o.s.pattern("[0-9]*")])],storeid:[""],brand:[""],picture:[""],remark:[""],location:[""],location1:[""],quantity1:[""],quantity2:[""],locationId1:[""],locationId2:[""],date:[""]}),(this.platform.is("mobile")&&!this.platform.is("hybrid")||this.platform.is("desktop"))&&(this.usePicker=!0),this.getAllItemCategory(),this.getCategory(),this.getLookUp(),this.getItemList(),this.getLookUpCatagory(),this.getItemBySelectedLookup(),this.getItemListFromFilter(),this.getItemListFromSort(),this.getSortName(),this.getStore(),this.getAllItemLocation(),this.readStockAdjustmentNo(),this.getStockAdjustment(),this.getFillData(),0==this.y?(this.listItems=!0,this.itemsMenu=!0,this.closeButton=!1,this.form=!0,this.filterToolbar=!0):1==this.y?(this.listItems=!1,this.itemsMenu=!1,this.closeButton=!0,this.form=!0,this.filterToolbar=!1):2==this.y&&(this.listItems=!1,this.itemsMenu=!1,this.tittleSelectItems=!0,this.tittleItems=!1,this.closeButton=!0,this.form=!1,this.listItemsOfAdd=!0,this.filterToolbar=!1)},t.prototype.readStockAdjustmentNo=function(){var t=this;this.stockAdjustmentNo="0";var e=0;this.itemsService.getAllItem().subscribe(function(i){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(n){switch(n.label){case 0:return 0!=i.length?[3,1]:(e=1,[3,3]);case 1:return[4,i.length];case 2:e=n.sent()+1,n.label=3;case 3:return this.stockAdjustmentNo="0",t=this.stockAdjustmentNo.padStart(4,"0"),this.stockAdjustmentNo="SA-"+t+e,[2]}})})})},t.prototype.SelectedValue=function(t){var e=this;this.lookupService.getAllLookUp().subscribe(function(i){return Object(n.a)(e,void 0,void 0,function(){var e;return Object(n.c)(this,function(n){switch(n.label){case 0:return e=this,[4,i.filter(function(e){return e.type==t.target.value})];case 1:return e.filteredLookUp=n.sent(),this.itemsService.getItemByLookup(this.SelectedLookup).subscribe(function(t){console.log(t)}),[2]}})})})},t.prototype.subLocationM=function(){return this.regform.get("subLocation")},t.prototype.newSubStore=function(){return this.fb.group({location:"",quantity:""})},t.prototype.AddLocation=function(){this.storeV=!0},t.prototype.getStore=function(){var t=this;this.lookupService.getAllLookUp().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t,i=this;return Object(n.c)(this,function(n){switch(n.label){case 0:return[4,e.filter(function(t){return 3==t.type})];case 1:return t=n.sent(),this.listOfStoreDatabase=t,t.length>0&&(this.defaultStore=t[1].name,this.defaultStoreId=t[0].id,this.AAchirkos=t[0].id,this.AAlebu=t[1].id,t.forEach(function(t){i.listOfStore.push({location:t.name,quantity:0})})),console.log(this.listOfStore),[2]}})})})},t.prototype.onKey=function(t,e,i){this.Qty=0;var n=t,o=e,r=this.regform.get("quantity1").value,c=this.regform.get("quantity2").value;if(this.Qty=this.Qty+(r+c),null!==n){var s={id:i,location:n,quantity:o};if(null==this.itemStoreBalance.find(function(t){return t.location==n}))this.itemStoreBalance.push(s);else{var a=this.itemStoreBalance.findIndex(function(t){return t.location==n});this.itemStoreBalance.splice(a,1),this.itemStoreBalance.push(s)}}},t.prototype.trackByFn=function(t,e){return t},t.prototype.getItemsLocation=function(t){var e=this;this.itemStoreBalance.forEach(function(i){e.itemLocationService.create({itemId:t,location:i.location,quantity:i.quantity}).subscribe(function(t){return Object(n.a)(e,void 0,void 0,function(){return Object(n.c)(this,function(e){return console.log(t.toString()),[2]})})}),e.stockAdjustmentService.create({transactionType:"Stock Adjustment",transactionNumber:e.stockAdjustmentNo,itemId:t,store:i.location,QuantityBefore:0,QuantityAfter:i.quantity,Quantity:i.quantity,date:e.currentDate}).subscribe(function(t){console.log(t.toString())})})},t.prototype.getSortName=function(){var t=this;this.shardService.sortName.subscribe(function(e){t.sortName=e})},t.prototype.getDisplayExpr=function(t){return t?t.name:""},t.prototype.getLookUpCatagory=function(){var t=this;this.lookupCatagoryService.getAllLookupCatagory().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return[4,e.length];case 1:return i.sent()>0?(t=this,[4,e]):[3,3];case 2:return t.listOfLookUpCatagory=i.sent(),this.SelectedLookup=this.listOfLookUpCatagory[0].id,[3,4];case 3:this.AlertInternet(),i.label=4;case 4:return[2]}})})})},t.prototype.getItemBySelectedLookup=function(){var t=this;this.lookupCatagoryService.getAllLookupCatagory().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return[4,e.length];case 1:return i.sent()>0?(t=this,[4,e]):[3,3];case 2:return t.listOfLookUpCatagory=i.sent(),this.SelectedLookup=this.listOfLookUpCatagory[0].id,[3,4];case 3:this.AlertInternet(),i.label=4;case 4:return[2]}})})})},t.prototype.getLookUp=function(){var t=this;try{this.lookupService.getAllLookUp().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t,i;return Object(n.c)(this,function(n){switch(n.label){case 0:return[4,e.length];case 1:return n.sent()>0?(t=this,[4,e]):[3,4];case 2:return t.listoflookup=n.sent(),i=this,[4,e];case 3:return i.filteredLookUp=n.sent(),this.selectedStore=this.filteredLookUp[0].id,[3,5];case 4:this.AlertInternet(),n.label=5;case 5:return[2]}})})})}catch(e){console.log(e)}},t.prototype.getStoreByName=function(t){var e=this;this.lookupService.getAllLookUp().subscribe(function(i){return Object(n.a)(e,void 0,void 0,function(){var e;return Object(n.c)(this,function(n){switch(n.label){case 0:return e=this,[4,i.filter(function(e){return e.type==t})];case 1:return e.listofStore=n.sent(),[2]}})})})},t.prototype.getCategory=function(){var t=this;this.CategoryService.getAllLookUpCategory().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return[4,e.length];case 1:return i.sent()>0?[4,e.find(function(t){return"Store"==t.name})]:[3,3];case 2:return(t=i.sent())&&this.getStoreByName(t.id),[3,4];case 3:this.AlertInternet(),i.label=4;case 4:return[2]}})})})},t.prototype.getAllItemCategory=function(){var t=this;this.ItemCategoryService.getAllItemCategories().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t,i=this;return Object(n.c)(this,function(n){switch(n.label){case 0:return[4,e.length];case 1:return n.sent()>0?(t=this,[4,e]):[3,3];case 2:return t.ListOfItemCategory=n.sent(),this.SelectedCatagory=this.ListOfItemCategory[1].id,this.ListOfItemCategory.forEach(function(t){i.catagoryName.push(t.categoryName)}),[3,4];case 3:this.AlertInternet(),n.label=4;case 4:return[2]}})})})},t.prototype.getAllItemLocation=function(){var t=this;this.itemLocationService.getAllItemLocation().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfItemLocation=i.sent(),[2]}})})})},t.prototype.getItemList=function(){var t=this;this.itemsService.getAllItem().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return e.length>0?(t=this,[4,e]):[3,2];case 1:return t.listofItems=i.sent(),[3,3];case 2:this.AlertInternet(),i.label=3;case 3:return[2]}})})},function(e){return Object(n.a)(t,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.loader.dismiss().then()];case 1:return t.sent(),console.log(e),[2]}})})})},t.prototype.getItemListFromFilter=function(){var t=this;this.shardService.listOfItemsFromFilter.subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listofItems=i.sent(),[2]}})})},function(e){return Object(n.a)(t,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.loader.dismiss().then()];case 1:return t.sent(),console.log(e),[2]}})})})},t.prototype.getItemListFromSort=function(){var t=this;this.shardService.listOfItems.subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listofItems=i.sent(),this.sortN=1,[2]}})})},function(e){return Object(n.a)(t,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.loader.dismiss().then()];case 1:return t.sent(),console.log(e),[2]}})})})},t.prototype.getItemListByStoreId=function(){var t=this;this.itemsService.getAllItem().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t,i=this;return Object(n.c)(this,function(n){switch(n.label){case 0:return t=this,[4,e.find(function(t){return t.storeid==i.selectedLookupId})];case 1:return t.listOfItemsByStore=n.sent(),[2]}})})},function(e){return Object(n.a)(t,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.loader.dismiss().then()];case 1:return t.sent(),console.log(e),[2]}})})})},t.prototype.getStockAdjustment=function(){var t=this;this.stockAdjustmentService.getAllStockAdjustment().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfStock=i.sent(),[2]}})})},function(e){return Object(n.a)(t,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.loader.dismiss().then()];case 1:return t.sent(),console.log(e),[2]}})})})},t.prototype.getItemListAfterSave=function(t){var e=this,i=t;this.b=0,this.itemsService.getAllItem().subscribe(function(t){return Object(n.a)(e,void 0,void 0,function(){var e,o=this;return Object(n.c)(this,function(n){switch(n.label){case 0:return[4,t.find(function(t){return t.id==i})];case 1:return n.sent(),[4,t.find(function(t){return t.id==i}).id];case 2:return e=n.sent(),0==this.b&&this.itemStoreBalance.forEach(function(t){var i={itemId:o.listofItems.find(function(t){return t.id==e}).id,beginingQuantity:t.quantity,currentQuantity:t.quantity,storeId:t.location};o.balanceService.create(i).subscribe(function(t){console.log(t.toString())}),o.b++}),[2]}})})})},t.prototype.onOptionsSelected=function(t){var e=this;this.lookupService.getAllLookUp().subscribe(function(i){return Object(n.a)(e,void 0,void 0,function(){var e;return Object(n.c)(this,function(n){switch(n.label){case 0:return console.log(i),e=this,[4,i.find(function(e){return e.type==t.target.value})];case 1:return e.listoflookup=n.sent(),[2]}})})})},t.prototype.AlertInternet=function(){return Object(n.a)(this,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Internet",message:"Please turn on wifi or data",buttons:["OK"]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.onPickImage=function(){var t=this;1!=this.usePicker?r.c.Camera.getPhoto({quality:50,source:r.b.Prompt,correctOrientation:!0,height:100,width:100,resultType:r.a.Base64}).then(function(e){t.base64textString="data:image/png;base64,"+e.base64String}).catch(function(e){return console.log(e),t.usePicker&&t.filePickerRef.nativeElement.click(),!1}):this.filePickerRef.nativeElement.click()},t.prototype.onFileChosen=function(t){var e=this,i=t.target.files[0];if(i){var n=new FileReader;n.onload=function(){var t=n.result.toString();e.base64textString=t},n.readAsDataURL(i)}},t.prototype.filter=function(t){this.filteredItemsSearch=t.target.value?this.listofItems.filter(function(e){return e.name.toLowerCase().includes(t.target.value.toLowerCase())}):this.listofItems},t.prototype.validateForm=function(t){return this.isValid=!0,(0==t.price||0==t.quantity)&&(this.isValid=!1),this.isValid},t.prototype.Save=function(){var t=this;if(void 0!==this.base64textString&&this.regform.get("picture").setValue(this.base64textString),this.regform.valid){if(this.itemId){this.dataOfItem={id:this.itemId,name:this.regform.get("name").value,AmaricName:this.regform.get("AmaricName").value,discrption:this.regform.get("discrption").value,CatagoryId:+this.regform.get("CatagoryId").value,type:this.regform.get("type").value,price:this.regform.get("price").value,cost:this.regform.get("cost").value,Quantity:this.regform.get("Quantity").value,picture:this.regform.get("picture").value,storeid:this.defaultStoreId,brand:this.regform.get("brand").value,remark:this.regform.get("remark").value},this.itemsService.updateItem(this.dataOfItem).subscribe(function(e){console.log(e.toString()),t.getItemList()});var e=this.listOfItemLocation.find(function(e){return e.itemId==t.itemId});this.itemStoreBalance.forEach(function(i){var n={itemId:t.itemId,location:i.location,quantity:i.quantity};if(null==i.id){t.itemLocationService.create(n).subscribe(function(t){console.log(t.toString())});var o=t.listOfStock.find(function(e){return e.itemId==t.itemId});t.stockAdjustmentService.create({transactionType:"Stock Adjustment",transactionNumber:t.stockAdjustmentNo,itemId:t.itemId,store:i.location,QuantityBefore:0,QuantityAfter:i.quantity,Quantity:i.quantity,date:t.currentDate}).subscribe(function(t){console.log(t.toString())})}else null==e?t.itemLocationService.create(n).subscribe(function(t){console.log(t.toString())}):t.itemLocationService.updateItemLoaction({id:i.id,itemId:t.itemId,location:i.location,quantity:i.quantity}).subscribe(function(t){console.log(t.toString())}),o=t.listOfStock.find(function(e){return e.itemId==t.itemId&&e.store==i.location}),t.stockAdjustmentService.create({transactionType:"Stock Adjustment",transactionNumber:t.stockAdjustmentNo,itemId:t.itemId,store:i.location,QuantityBefore:o.quantityAfter,QuantityAfter:i.quantity,Quantity:i.quantity,date:t.currentDate}).subscribe(function(t){console.log(t.toString())})}),this.getItemListAfterSave(this.itemId),this.presentAlert()}else{var i={name:this.regform.get("name").value,AmaricName:this.regform.get("AmaricName").value,discrption:this.regform.get("discrption").value,CatagoryId:this.regform.get("CatagoryId").value,type:this.regform.get("type").value,price:this.regform.get("price").value,cost:this.regform.get("cost").value,Quantity:this.regform.get("Quantity").value,picture:this.regform.get("picture").value,storeid:this.defaultStoreId,brand:this.regform.get("brand").value,remark:this.regform.get("remark").value};this.itemsService.create(i).subscribe(function(e){t.getItemList(),t.itemsService.getAllItem().subscribe(function(e){if(t.listofItems=e,t.id=e[0].id,t.getItemsLocation(t.id),t.getItemListAfterSave(t.id),1==t.y){var i={id:t.id,name:t.regform.get("name").value,description:t.regform.get("discrption").value};t.shardService.itemsList.next(i),t.modelControler.dismiss()}})}),this.presentAlert()}0==this.y&&(this.storeV=!1,this.base64textString="",this.regform.get("name").reset(),this.regform.get("AmaricName").reset(),this.regform.get("discrption").reset(),this.regform.get("CatagoryId").reset(),this.regform.get("type").reset(),this.regform.get("price").reset(),this.regform.get("cost").reset(),this.regform.get("Quantity").reset(),this.regform.get("picture").reset(),this.regform.get("brand").reset(),this.regform.get("remark").reset(),this.subLocationV=!1,this.itemId=null,this.getCategory())}else this.ErrorAlert()},t.prototype.delete=function(t){this.presentAlertConfirm(t)},t.prototype.presentAlertConfirm=function(t){return Object(n.a)(this,void 0,void 0,function(){var e=this;return Object(n.c)(this,function(i){switch(i.label){case 0:return[4,this.alertController.create({header:"Confirm!",message:"<strong>Are you sure you want delete?</strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"OK",handler:function(){e.itemsService.removeItems(t.id).subscribe(function(t){console.log(t.toString())}),e.regform.reset(),e.itemId=null}}]})];case 1:return[4,i.sent().present()];case 2:return i.sent(),[2]}})})},t.prototype.ErrorAlert=function(){return Object(n.a)(this,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Error",message:"Please Enter All field.",buttons:["OK"]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.presentAlert=function(){return Object(n.a)(this,void 0,void 0,function(){return Object(n.c)(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Item",message:"Items Saved successfully.",buttons:["OK"]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.Edit=function(t){var e=this;this.editMode=!0,this.itemId=t.id,this.regform.get("name").setValue(t.name),this.regform.get("AmaricName").setValue(t.amaricName),this.regform.get("type").setValue(t.type),this.regform.get("discrption").setValue(t.discrption),this.regform.get("CatagoryId").setValue(t.catagoryId),this.regform.get("price").setValue(t.price),this.regform.get("cost").setValue(t.cost),this.regform.get("Quantity").setValue(t.quantity),this.regform.get("brand").setValue(t.brand),this.regform.get("remark").setValue(t.remark),this.base64textString=t.picture,this.listOfStore=[];var i=this.listOfItemLocation.find(function(t){return t.itemId==e.itemId});void 0!==i?(this.subLocationV=!0,this.itemLocationId=i.itemId,this.listOfItemLocation.filter(function(t){return t.itemId==e.itemLocationId}).forEach(function(t){var i={id:t.id,location:t.location,quantity:t.quantity};t.location==e.location1?(e.regform.get("location1").setValue(t.location),e.quantity1=parseInt(t.quantity),e.locationId1=t.id):(e.regform.get("location").setValue(t.location),e.quantity2=parseInt(t.quantity),e.locationId2=t.id),e.listOfStore.push(i)})):(this.quantity1=0,this.quantity2=0,this.subLocationV=!1)},t.prototype.onTableDataChange=function(t){this.page=t,1==this.sortN?this.getItemListFromSort():this.getItemList()},t.prototype.onTableSizeChange=function(t){this.tableSize=t.target.value,this.page=1,1==this.sortN?this.getItemListFromSort():this.getItemList()},t.prototype.closeItems=function(){this.modelControler.dismiss()},t.prototype.filterSelected=function(t){this.selectionChangedBySelectbox=!0;var e=t.value,i=this.ListOfItemCategory.find(function(t){return t.categoryName==e}).id;this.selectedRows=this.listofItems.filter(function(t){return t.catagoryId==i}).map(function(t){return t.id}),console.log(this.selectedRows),this.itemsList=e},t.prototype.selectionChangedHandler=function(t){var e=this,i=t.currentSelectedRowKeys;i.forEach(function(n){var o=t.selectedRowsData.filter(function(t){return t.id==n});e.oldListOfItems=Object.assign(e.data),o.forEach(function(t){e.oldListOfItems.find(function(e){return e.id==t.id})||(e.listSelectedRowsIndex.push(i),e.listOfItemsNew.push({id:t.id,name:t.name,AmaricName:t.AmaricName,discrption:t.discrption,CatagoryId:t.CatagoryId,type:t.type,price:t.price,Quantity:t.Quantity,picture:t.picture,storeid:t.storeid,brand:t.brand,remark:t.remark}))})})},t.prototype.selectedItems=function(){this.shardService.listOfItemAdd.next(this.listOfItemsNew),this.modelControler.dismiss()},t.prototype.fliter=function(){this.modelControler.create({component:c.a,cssClass:"filterItems"}).then(function(t){t.present()})},t.prototype.sort=function(){this.modelControler.create({component:s.a,cssClass:"sortItem"}).then(function(t){t.present()})},t.prototype.historyOfItems=function(t){this.modelControler.create({component:a.a,cssClass:"my-custom-class",componentProps:{data:t}}).then(function(t){t.present()})},t.prototype.getFillData=function(){var t=this;this.shardService.itemsId.subscribe(function(e){var i=t.listofItems.find(function(t){return t.id==e.id});console.log(i),t.regform.get("name").setValue(i.name),t.regform.get("AmaricName").setValue(i.amaricName),t.regform.get("type").setValue(i.type),t.regform.get("discrption").setValue(i.discrption),t.regform.get("CatagoryId").setValue(i.catagoryId),t.regform.get("price").setValue(i.price),t.regform.get("cost").setValue(i.cost),t.regform.get("Quantity").setValue(e.quantity),t.regform.get("brand").setValue(i.brand),t.regform.get("remark").setValue(i.remark),t.base64textString=i.picture,t.listOfStore=[];var n=t.listOfItemLocation.find(function(t){return t.itemId==e.id});void 0!==n?(t.subLocationV=!0,t.itemLocationId=n.itemId,t.listOfItemLocation.filter(function(e){return e.itemId==t.itemLocationId}).forEach(function(i){var n={id:i.id,location:i.location,quantity:i.quantity};e.store==t.location1?(t.regform.get("location1").setValue(i.location),t.quantity1=parseInt(e.quantity),t.locationId1=i.id):(t.regform.get("location").setValue(i.location),t.quantity2=parseInt(e.quantity),t.locationId2=i.id),t.listOfStore.push(n)})):(t.quantity1=0,t.quantity2=0,t.subLocationV=!1)})},t.prototype.scroll=function(t){this.showScroll=t.detail.scrollTop>300},t.prototype.doRefresh=function(t){var e=this;setTimeout(function(){e.getItemList(),t.target.complete()},200)},t.\u0275fac=function(e){return new(e||t)(u.Yb(o.c),u.Yb(l.cb),u.Yb(h.a),u.Yb(d.a),u.Yb(l.a),u.Yb(f.a),u.Yb(p.a),u.Yb(m.a),u.Yb(g.a),u.Yb(l.Z),u.Yb(b.a),u.Yb(v.a),u.Yb(y.a))},t.\u0275cmp=u.Sb({type:t,selectors:[["app-items"]],viewQuery:function(t,e){if(1&t&&(u.Tc(M,1),u.Tc(j,1)),2&t){var i=void 0;u.Dc(i=u.pc())&&(e.filePickerRef=i.first),u.Dc(i=u.pc())&&(e.pageTop=i.first)}},inputs:{data:"data",selectedLookupId:"selectedLookupId",y:"y"},decls:17,vars:13,consts:[[3,"translucent"],["color","primary"],["slot","start",4,"ngIf"],[4,"ngIf"],["slot","end",4,"ngIf"],["scrollX","true","scrollEvents","true",3,"ionScroll"],["pageTop",""],["slot","fixed",3,"ionRefresh"],["horizontal","end","vertical","bottom","slot","fixed",3,"ngClass"],["color","light",3,"click"],["md","chevron-up-outline","ios","chevron-up-circle-outline"],["slot","start"],["slot","end"],["name","close-outline",2,"width","77px","height","39px",3,"click"],[3,"formGroup"],["hidden",""],["displayFormat","MMM DD, YYYY HH:mm:ss","formControlName","date",3,"min","max","ngModel","ngModelChange"],["formControlName","name","required",""],["class","form-text text-muted",4,"ngIf"],["formControlName","AmaricName"],["interface","popover","formControlName","CatagoryId",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["interface","popover","formControlName","type",3,"ngModel","ngModelChange"],["value","Stocked product"],["value","Serialized product"],["value","Non-Stocked product"],["value","Service"],[2,"height","60px"],["slot","end","formControlName","Quantity","type","number","readonly","",3,"ngModel","click"],["formControlName","discrption"],["formControlName","price","type","number"],["formControlName","cost","type","number"],["formControlName","brand"],["formControlName","remark","placeholder","Enter more information here..."],[1,"picker"],["role","button","class","image",3,"src","click",4,"ngIf"],["color","primary",3,"click",4,"ngIf"],["hidden","","type","file","accept","image/jpeg",3,"change",4,"ngIf"],[2,"text-align","center","margin","auto"],["type","submit","id","add items",3,"click"],["slot","start","name","add-circle-outline"],[1,"form-text","text-muted"],[3,"value"],["hidden","","type","text","formControlName","locationId2",3,"ngModel","ngModelChange"],["type","number","formControlName","quantity2",1,"form-control",2,"text-align","center","margin-left","12px","margin-right","12px",3,"ngModel","ngModelChange","keyup"],["hidden","","type","text","formControlName","locationId1",3,"ngModel","ngModelChange"],["type","number","formControlName","quantity1",1,"form-control",2,"text-align","center","margin-left","12px","margin-right","12px",3,"ngModel","ngModelChange","keyup"],["role","button",1,"image",3,"src","click"],["color","primary",3,"click"],["name","camera","slot","start"],["hidden","","type","file","accept","image/jpeg",3,"change"],["filePicker",""],["showCancelButton","never",3,"ngModel","keyup","ngModelChange"],[1,"table"],["width","15%"],["scope","col"],[3,"active",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["responsive","true","previousLabel","Prev","nextLabel","Next",3,"pageChange"],["colspan","5",1,"font-italic","text-center"],["scope","row"],[3,"src"],[3,"click"],["name","create","slot","icon-only"],["value","list",3,"click"],["name","information-circle"],["name","trash","slot","icon-only"],["id","select-catagoryName","placeholder","Select Catagory",3,"dataSource","value","onValueChanged"],["text","Clear Selection",3,"disabled","onClick"],["id","grid-container","keyExpr","id",3,"dataSource","selectedRowKeys","showBorders","showRowLines","selectedRowKeysChange","onSelectionChanged"],["grid",""],["mode","multiple",3,"selectAllMode","showCheckBoxesMode"],[3,"pageSize"],[3,"visible"],["dataField","name","caption","name",3,"width"],["dataField","AmaricName","caption","AmaricName",3,"width"],["dataField","picture","cellTemplate","cellTemplate","height","80%","width","90px"],[4,"dxTemplate","dxTemplateOf"],["expand","block",3,"click"],["align-items-center",""],["ion-button","","full","","clear","","icon-left","",2,"width","150px",3,"click"],["slot","start","name","options-outline"]],template:function(t,e){1&t&&(u.dc(0,"ion-header",0),u.dc(1,"ion-toolbar",1),u.Mc(2,x,2,0,"ion-buttons",2),u.Mc(3,P,2,0,"ion-title",3),u.Mc(4,R,2,0,"ion-title",3),u.Mc(5,U,2,0,"ion-buttons",4),u.cc(),u.cc(),u.dc(6,"ion-content",5,6),u.oc("ionScroll",function(t){return e.scroll(t)}),u.dc(8,"ion-refresher",7),u.oc("ionRefresh",function(t){return e.doRefresh(t)}),u.Zb(9,"ion-refresher-content"),u.cc(),u.Mc(10,G,71,20,"div",3),u.Mc(11,H,28,13,"div",3),u.Mc(12,J,14,14,"div",3),u.Mc(13,$,12,1,"ion-footer",3),u.dc(14,"ion-fab",8),u.dc(15,"ion-fab-button",9),u.oc("click",function(){return e.pageScroller()}),u.Zb(16,"ion-icon",10),u.cc(),u.cc(),u.cc()),2&t&&(u.wc("translucent",!0),u.Mb(2),u.wc("ngIf",e.itemsMenu),u.Mb(1),u.wc("ngIf",e.tittleItems),u.Mb(1),u.wc("ngIf",e.tittleSelectItems),u.Mb(1),u.wc("ngIf",e.closeButton),u.Mb(5),u.wc("ngIf",e.form),u.Mb(1),u.wc("ngIf",e.listItems),u.Mb(1),u.wc("ngIf",e.listItemsOfAdd),u.Mb(1),u.wc("ngIf",e.filterToolbar),u.Mb(1),u.wc("ngClass",u.Bc(10,tt,e.showScroll,!e.showScroll)))},directives:[l.s,l.V,I.l,l.m,l.I,l.J,l.o,I.j,l.p,l.t,l.f,l.E,l.U,o.t,o.l,o.f,l.B,l.w,l.n,l.gb,o.k,o.d,l.A,l.v,l.hb,o.r,l.P,I.k,l.Q,l.bb,l.S,l.e,l.u,l.M,o.n,O.c,l.T,S.a,L.a,k.a,A.ne,A.Qd,A.Bc,A.k,w.e,l.q,l.L,l.l],pipes:[O.b,C.a],styles:[".picker[_ngcontent-%COMP%]{width:30rem;max-width:80%;height:20rem;max-height:30vh;border:1px solid var(--ion-color-primary);margin:auto;display:flex;justify-content:center;align-items:center}.image[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}ion-item-sliding[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{--background:linear-gradient(90deg,#dfe2e6,#dee1e7 35%,#e0e4e9)}.label-class[_ngcontent-%COMP%]{--inner-padding-start:12px;--inner-padding-end:10px}.ion-input[_ngcontent-%COMP%], .label-class[_ngcontent-%COMP%], .label-class-al[_ngcontent-%COMP%]{margin-left:67px}.dx-lookup-field[_ngcontent-%COMP%]{padding:5px 23px 12px 54px;font-size:1em}ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0;--border-radius:14px}ion-content[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--border-radius:14px;--background:#f3f3f3;margin-top:-13px}.location-visible[_ngcontent-%COMP%]{opacity:1;transition:.5s}.location-hidden[_ngcontent-%COMP%]{opacity:0;transition:.5s}"]}),t}()},"0iLV":function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=function(){function t(t){this.http=t,this.APIURL=n.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/lineitem",t)},t.prototype.getAllLineItem=function(){return this.http.get(this.APIURL+"/lineitem")},t.prototype.getLineItemByItemId=function(t){return this.http.get(this.APIURL+"/lineitem",t)},t.prototype.updateLineItem=function(t){return this.http.put(this.APIURL+"/lineitem",t)},t.prototype.getLineItem=function(t){return this.http.get(this.APIURL+"/lineitem",t)},t.prototype.removeLineItem=function(t){return this.http.delete(this.APIURL+"/lineitem/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"3yil":function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i("S7rW"),i("4XzM"),i("EUDy"),i("Drjo");var n=i("XEKg"),o=i("5Jak"),r=i("/GcI"),c=i("HDdC"),s=i("cxbk"),a=i("fXoL"),u=i("tk/3"),l=function(){function t(t){this.http=t,this.APIURL=s.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/itemstorebalance",t)},t.prototype.getAllBalance=function(){return this.http.get(this.APIURL+"/itemstorebalance")},t.prototype.updateBalance=function(t){return this.http.put(this.APIURL+"/itemstorebalance/",t)},t.prototype.handleError=function(t){return c.a.throw(400===t.status?new n.a(t.json()):404===t.status?new o.a:new r.a(t))},t.\u0275fac=function(e){return new(e||t)(a.kc(u.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"5RWQ":function(t,e,i){"use strict";i.d(e,"a",function(){return d});var n=i("mrSG"),o=i("fXoL"),r=i("3Pt+"),c=i("TEn/"),s=i("rlNE"),a=i("/K/L"),u=i("ldse"),l=i("ofXK");function h(t,e){if(1&t&&(o.dc(0,"ion-select-option",11),o.Oc(1),o.cc()),2&t){var i=e.$implicit;o.xc("value",null==i?null:i.id),o.Mb(1),o.Qc(" ",null==i?null:i.categoryName," ")}}var d=function(){function t(t,e,i,n,o){this.fb=t,this.modalController=e,this.ItemCategoryService=i,this.itemsService=n,this.shardService=o,this.regform1=this.fb.group({}),this.catagoryName=[]}return t.prototype.ngOnInit=function(){this.regform1=this.fb.group({type:[""],CatagoryId:[""]}),this.getAllItemCategory()},t.prototype.getAllItemCategory=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.ItemCategoryService.getAllItemCategories().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.ListOfItemCategory=i.sent(),[2]}})})}),[2]})})},t.prototype.apply=function(){var t=this;this.itemsService.getAllItem().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t,i,o;return Object(n.c)(this,function(n){switch(n.label){case 0:return t=this,[4,e];case 1:return t.listofItems=n.sent(),i=this.regform1.get("type").value,o=this.regform1.get("CatagoryId").value,""!=i&&""!=o?(this.listofItems=this.listofItems.filter(function(t){return t.type==i}),this.listofItems=this.listofItems.filter(function(t){return t.catagoryId==+o}),this.shardService.listOfItemsFromFilter.next(this.listofItems)):""!=i?(this.listofItems=this.listofItems.filter(function(t){return t.type==i}),this.shardService.listOfItemsFromFilter.next(this.listofItems)):(this.listofItems=this.listofItems.filter(function(t){return t.catagoryId==+o}),this.shardService.listOfItemsFromFilter.next(this.listofItems)),[2]}})})}),this.modalController.dismiss()},t.prototype.reset=function(){this.regform1.reset()},t.\u0275fac=function(e){return new(e||t)(o.Yb(r.c),o.Yb(c.Z),o.Yb(s.a),o.Yb(a.a),o.Yb(u.a))},t.\u0275cmp=o.Sb({type:t,selectors:[["app-filter"]],decls:29,vars:2,consts:[["lines","none"],[3,"click"],[2,"text-align","center"],[3,"formGroup"],["interface","popover","formControlName","type"],["value","Stocked product"],["value","Serialized product"],["value","Non-Stocked product"],["value","Service"],["interface","popover","formControlName","CatagoryId"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(o.dc(0,"ion-header"),o.dc(1,"ion-toolbar"),o.dc(2,"div"),o.dc(3,"ion-item",0),o.dc(4,"ion-button",1),o.oc("click",function(){return e.reset()}),o.Oc(5,"Reset"),o.cc(),o.dc(6,"ion-label",2),o.Oc(7,"List filter"),o.cc(),o.dc(8,"ion-button",1),o.oc("click",function(){return e.apply()}),o.Oc(9,"Apply"),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(10,"ion-content"),o.dc(11,"form",3),o.dc(12,"ion-item"),o.dc(13,"ion-label"),o.Oc(14,"Item Type"),o.cc(),o.dc(15,"ion-select",4),o.dc(16,"ion-select-option",5),o.Oc(17,"Stocked product"),o.cc(),o.dc(18,"ion-select-option",6),o.Oc(19,"Serialized product"),o.cc(),o.dc(20,"ion-select-option",7),o.Oc(21,"Non-Stocked product"),o.cc(),o.dc(22,"ion-select-option",8),o.Oc(23,"Service"),o.cc(),o.cc(),o.cc(),o.dc(24,"ion-item"),o.dc(25,"ion-label"),o.Oc(26,"Category"),o.cc(),o.dc(27,"ion-select",9),o.Mc(28,h,2,2,"ion-select-option",10),o.cc(),o.cc(),o.cc(),o.cc()),2&t&&(o.Mb(11),o.wc("formGroup",e.regform1),o.Mb(17),o.wc("ngForOf",e.ListOfItemCategory))},directives:[c.s,c.V,c.w,c.e,c.A,c.m,r.t,r.l,r.f,c.P,c.gb,r.k,r.d,c.Q,l.k],styles:["ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0;--border-radius:14px}"]}),t}()},"7mbe":function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("HDdC"),o=(i("S7rW"),i("4XzM"),i("EUDy"),i("Drjo"),i("XEKg")),r=i("5Jak"),c=i("/GcI"),s=i("cxbk"),a=i("fXoL"),u=i("tk/3"),l=function(){function t(t){this.http=t,this.APIURL=s.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/vocher",t).catch(this.handleError)},t.prototype.getVoucherVendorId=function(){return this.http.get(this.APIURL+"/vocher")},t.prototype.getAllVocher=function(){return this.http.get(this.APIURL+"/vocher")},t.prototype.updateVocher=function(t){return this.http.put(this.APIURL+"/vocher",t).catch(this.handleError)},t.prototype.addVocher=function(t){return this.http.post(this.APIURL+"/vocher",t).catch(this.handleError)},t.prototype.removeVocher=function(t){return this.http.delete(this.APIURL+"/vocher/"+t).catch(this.handleError)},t.prototype.handleError=function(t){return n.a.throw(400===t.status?new o.a(t.json()):404===t.status?new r.a:new c.a(t))},t.\u0275fac=function(e){return new(e||t)(a.kc(u.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"8RYG":function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=function(){function t(t){this.http=t,this.APIURL=n.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/itemlocation",t)},t.prototype.getAllItemLocation=function(){return this.http.get(this.APIURL+"/itemlocation")},t.prototype.updateItemLoaction=function(t){return this.http.put(this.APIURL+"/itemlocation",t)},t.prototype.removeItemLocation=function(t){return this.http.delete(this.APIURL+"/itemlocation/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},DtWW:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=function(){function t(t){this.http=t,this.APIURL=n.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/vocherstoretransation",t)},t.prototype.getAllVocher=function(){return this.http.get(this.APIURL+"/vocherstoretransation")},t.prototype.updateVocherTransation=function(t){return this.http.put(this.APIURL+"/vocherstoretransation",t)},t.prototype.addVocherTransation=function(t){return this.http.post(this.APIURL+"/vocherstoretransation",t)},t.prototype.removeVocherTransation=function(t){return this.http.delete(this.APIURL+"/vocherstoretransation/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},KvxG:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=function(){function t(t){this.http=t,this.APIURL=n.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/storetransfer",t)},t.prototype.getAllStoreTransfer=function(){return this.http.get(this.APIURL+"/storetransfer")},t.prototype.updateStoreTransfer=function(t){return this.http.put(this.APIURL+"/storetransfer",t)},t.prototype.deleteStoreTransfer=function(t){return this.http.delete(this.APIURL+"/storetransfer/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},c1WZ:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=function(){function t(t){this.http=t,this.APIURL=n.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/stockadjustment",t)},t.prototype.getAllStockAdjustment=function(){return this.http.get(this.APIURL+"/stockadjustment")},t.prototype.updateStockAdjustment=function(t){return this.http.put(this.APIURL+"/stockadjustment",t)},t.prototype.deleteStockAdjustment=function(t){return this.http.delete(this.APIURL+"/stockadjustment/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},cHRp:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("cxbk"),o=i("fXoL"),r=i("tk/3"),c=function(){function t(t){this.http=t,this.APIURL=n.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/lookupcatagory",t)},t.prototype.getAllLookupCatagory=function(){return this.http.get(this.APIURL+"/lookupcatagory")},t.prototype.getLookupByType=function(t){return this.http.get(this.APIURL+"/lookupcatagory",t)},t.prototype.getLookUpByName=function(t){return this.http.get(this.APIURL+"/lookupcatagory",t)},t.prototype.updateLookUpCatagory=function(t){return this.http.put(this.APIURL+"/lookupcatagory",t)},t.prototype.removeLookupCatagory=function(t){return this.http.delete(this.APIURL+"/lookupcatagory/"+t)},t.\u0275fac=function(e){return new(e||t)(o.kc(r.a))},t.\u0275prov=o.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},cm4A:function(t,e,i){"use strict";i.d(e,"a",function(){return u});var n=i("mrSG"),o=i("fXoL"),r=i("3Pt+"),c=i("/K/L"),s=i("ldse"),a=i("TEn/"),u=function(){function t(t,e,i,n){this.fb=t,this.itemsService=e,this.shardService=i,this.modelControler=n,this.regform=this.fb.group({})}return t.prototype.ngOnInit=function(){this.regform=this.fb.group({ascending:[""],descending:[""]}),this.getItems()},t.prototype.getItems=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.itemsService.getAllItem().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfItems=i.sent(),[2]}})})}),[2]})})},t.prototype.radioGroupChange=function(t){this.sortN=t.detail.value,"Ascending"===t.detail.value?(this.listOfItems.sort(function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return i<n?-1:i>n?1:0}),this.shardService.listOfItems.next(this.listOfItems)):"Descending"===t.detail.value?(this.listOfItems.sort(function(t,e){var i=t.name.toLowerCase(),n=e.name.toLowerCase();return i>n?-1:i<n?1:0}),this.shardService.listOfItems.next(this.listOfItems)):"AscendingQuantity"===t.detail.value?(this.listOfItems.sort(function(t,e){return t.quantity-e.quantity}),this.shardService.listOfItems.next(this.listOfItems)):(this.listOfItems.sort(function(t,e){return e.quantity-t.quantity}),this.shardService.listOfItems.next(this.listOfItems)),this.shardService.sortName.next(this.sortN),this.modelControler.dismiss()},t.\u0275fac=function(e){return new(e||t)(o.Yb(r.c),o.Yb(c.a),o.Yb(s.a),o.Yb(a.Z))},t.\u0275cmp=o.Sb({type:t,selectors:[["app-sort"]],decls:23,vars:1,consts:[[2,"text-align","center"],[3,"formGroup"],["value","default",3,"ionChange"],["slot","start","value","Ascending"],["slot","start","value","Descending"],["slot","start","value","AscendingQuantity"],["slot","start","value","DescendingQuantity"]],template:function(t,e){1&t&&(o.dc(0,"ion-header"),o.dc(1,"ion-toolbar"),o.dc(2,"ion-title",0),o.Oc(3,"Sort by"),o.cc(),o.cc(),o.cc(),o.dc(4,"ion-content"),o.dc(5,"form",1),o.dc(6,"ion-radio-group",2),o.oc("ionChange",function(t){return e.radioGroupChange(t)}),o.dc(7,"ion-item"),o.dc(8,"ion-label"),o.Oc(9,"Ascending name"),o.cc(),o.Zb(10,"ion-radio",3),o.cc(),o.dc(11,"ion-item"),o.dc(12,"ion-label"),o.Oc(13,"Descending name"),o.cc(),o.Zb(14,"ion-radio",4),o.cc(),o.dc(15,"ion-item"),o.dc(16,"ion-label"),o.Oc(17,"Ascending Quantity"),o.cc(),o.Zb(18,"ion-radio",5),o.cc(),o.dc(19,"ion-item"),o.dc(20,"ion-label"),o.Oc(21,"Descending Quantity"),o.cc(),o.Zb(22,"ion-radio",6),o.cc(),o.cc(),o.cc(),o.cc()),2&t&&(o.Mb(5),o.wc("formGroup",e.regform))},directives:[a.s,a.V,a.U,a.m,r.t,r.l,r.f,a.H,a.gb,a.w,a.A,a.G,a.eb],styles:["ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0;--border-radius:14px}"]}),t}()},jgFG:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("HDdC"),o=i("cxbk"),r=i("/GcI"),c=i("XEKg"),s=i("5Jak"),a=i("fXoL"),u=i("tk/3"),l=function(){function t(t){this.http=t,this.APIURL=o.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/lookupcatagory",t)},t.prototype.getAllLookUpCategory=function(){return this.http.get(this.APIURL+"/lookupcatagory")},t.prototype.getCategory=function(t){return this.http.get(this.APIURL+"/lookupcatagory"+t)},t.prototype.updateCategory=function(t){return this.http.put(this.APIURL+"/lookupcatagory",t).catch(this.handleError)},t.prototype.addCategory=function(t){return this.http.post(this.APIURL+"/lookupcatagory",t).catch(this.handleError)},t.prototype.removeCategory=function(t){return this.http.delete(this.APIURL+"/lookupcatagory/"+t).catch(this.handleError)},t.prototype.handleError=function(t){return n.a.throw(400===t.status?new c.a(t.json()):404===t.status?new s.a:new r.a(t))},t.\u0275fac=function(e){return new(e||t)(a.kc(u.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},rlNE:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("HDdC"),o=i("cxbk"),r=i("/GcI"),c=i("XEKg"),s=i("5Jak"),a=i("fXoL"),u=i("tk/3"),l=function(){function t(t){this.http=t,this.APIURL=o.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/itemcategory",t).catch(this.handleError)},t.prototype.getAllItemCategories=function(){return this.http.get(this.APIURL+"/itemcategory")},t.prototype.getItemCategory=function(t){return this.http.get(this.APIURL+"/itemcategory",t)},t.prototype.updateItemCategory=function(t){return this.http.put(this.APIURL+"/itemcategory",t).catch(this.handleError)},t.prototype.removeCategory=function(t){return this.http.delete(this.APIURL+"/itemcategory/"+t).catch(this.handleError)},t.prototype.handleError=function(t){return n.a.throw(400===t.status?new c.a(t.json()):404===t.status?new s.a:new r.a(t))},t.\u0275fac=function(e){return new(e||t)(a.kc(u.a))},t.\u0275prov=a.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},zvEI:function(t,e,i){"use strict";i.d(e,"a",function(){return L});var n=i("mrSG"),o=i("fXoL"),r=i("JuFC"),c=i("7mbe"),s=i("3yil"),a=i("0iLV"),u=i("KvxG"),l=i("DtWW"),h=i("c1WZ"),d=i("/K/L"),f=i("/6mc"),p=i("GIHS"),m=i("tyNb"),g=i("ldse"),b=i("TEn/"),v=i("ofXK"),y=i("ZzPI"),I=i("6t9p");function O(t,e){if(1&t&&(o.dc(0,"ion-select-option",16),o.Oc(1),o.cc()),2&t){var i=e.$implicit;o.wc("value",i.name),o.Mb(1),o.Pc(i.name)}}function S(t,e){if(1&t&&(o.dc(0,"ion-select-option",16),o.Oc(1),o.cc()),2&t){var i=e.$implicit;o.wc("value",i.Id),o.Mb(1),o.Pc(i.name)}}var k=function(){return[]},L=function(){function t(t,e,i,n,o,r,c,s,a,u,l,h,d,f){this.lookupService=t,this.voucherService=e,this.balanceService=i,this.lineItemService=n,this.storeTransferService=o,this.voucherTransationService=r,this.stockAdjustment=c,this.itemsService=s,this.vendorService=a,this.customerService=u,this.router=l,this.sharedService=h,this.modalController=d,this.loadingController=f,this.listOfVoucherTransaction=[],this.ListoftranscationType=[],this.allMode="allPages",this.checkBoxesMode="onClick"}return t.prototype.ngOnInit=function(){return Object(n.a)(this,void 0,void 0,function(){var t;return Object(n.c)(this,function(e){switch(e.label){case 0:return t=this,[4,this.loadingController.create({message:"data loading ... ",spinner:"bubbles",animated:!0})];case 1:return t.loader=e.sent(),this.getItemStoreBalnce(),this.getVocher(),this.getLineItem(),this.Transaction_Type(),this.getStore(),this.getLookup(),this.getStoreTransfer(),this.getVoucherStoreTransaction(),this.getItemsHistory(),this.getItems(),this.getAllCustomerList(),this.getAllVendorList(),[2]}})})},t.prototype.closeItemHistory=function(){this.modalController.dismiss()},t.prototype.getAllVendorList=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.vendorService.getAllVendor().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfVendor=i.sent(),[2]}})})}),[2]})})},t.prototype.getAllCustomerList=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.customerService.getAllCustomer().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfCustomer=i.sent(),[2]}})})}),[2]})})},t.prototype.getItems=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.itemsService.getAllItem().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listofItems=i.sent(),[2]}})})}),[2]})})},t.prototype.getLookup=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.lookupService.getAllLookUp().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfLookup=i.sent(),[2]}})})}),[2]})})},t.prototype.getVocher=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.voucherService.getAllVocher().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfVoucher=i.sent(),[2]}})})}),[2]})})},t.prototype.getItemStoreBalnce=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.balanceService.getAllBalance().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfItemStoreBalance=i.sent(),[2]}})})}),[2]})})},t.prototype.getLineItem=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.lineItemService.getAllLineItem().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfLineItem=i.sent(),[2]}})})}),[2]})})},t.prototype.getStore=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.lookupService.getAllLookUp().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e.filter(function(t){return 3==t.type})];case 1:return t.listOfStore=i.sent(),[2]}})})}),[2]})})},t.prototype.getVoucherStoreTransaction=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.voucherTransationService.getAllVocher().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfVocherStoreTransation=i.sent(),[2]}})})}),[2]})})},t.prototype.getStoreTransfer=function(){return Object(n.a)(this,void 0,void 0,function(){var t=this;return Object(n.c)(this,function(e){return this.storeTransferService.getAllStoreTransfer().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t;return Object(n.c)(this,function(i){switch(i.label){case 0:return t=this,[4,e];case 1:return t.listOfStoreTransfer=i.sent(),[2]}})})}),[2]})})},t.prototype.Transaction_Type=function(){this.ListoftranscationType.push({id:"1",name:"Sales order"}),this.ListoftranscationType.push({id:"2",name:"Case sales"}),this.ListoftranscationType.push({id:"3",name:"purchase order"}),this.ListoftranscationType.push({id:"4",name:"Good receive"}),this.ListoftranscationType.push({id:"5",name:"Store transfer"})},t.prototype.TransactionType=function(t){var e=this;this.listOfVoucherTransaction=[],this.stockAdjustment.getAllStockAdjustment().subscribe(function(i){var n=i.filter(function(i){return i.transactionType==t.target.value&&i.itemId==e.data.id});null!=e.listOfLookup?n.forEach(function(t){var i={Transaction_type:t.transactionType,Order_Number:t.transactionNumber,Date:t.date,Quantity:t.Quantity,Store:e.listOfLookup.find(function(e){return e.id==t.store}).name,Qty_Before:t.QuantityBefore,After_Qty:t.QuantityAfter};e.listOfVoucherTransaction.push(i)}):e.refresh(t)})},t.prototype.refresh=function(t){this.getLineItem(),this.TransactionType(t)},t.prototype.Store=function(t){var e=this;this.listOfVoucherTransaction=[];var i=this.listOfLookup.find(function(e){return e.name==t.target.value}).id;this.stockAdjustment.getAllStockAdjustment().subscribe(function(t){return Object(n.a)(e,void 0,void 0,function(){var e=this;return Object(n.c)(this,function(n){switch(n.label){case 0:return[4,t.filter(function(t){return t.store==i&&t.itemId==e.data.id})];case 1:return n.sent().forEach(function(t){var i={Transaction_type:t.transactionType,Order_Number:t.transactionNumber,Date:t.date,Quantity:t.quantity,Store:e.listOfLookup.find(function(e){return e.id==t.store}).name,Qty_Before:t.quantityBefore,After_Qty:t.quantityAfter};e.listOfVoucherTransaction.push(i)}),[2]}})})})},t.prototype.getItemsHistory=function(){var t=this;this.stockAdjustment.getAllStockAdjustment().subscribe(function(e){return Object(n.a)(t,void 0,void 0,function(){var t,i=this;return Object(n.c)(this,function(n){switch(n.label){case 0:return[4,e.filter(function(t){return t.itemId==i.data.id})];case 1:return t=n.sent(),null!=this.listOfLookup?t.forEach(function(t){var e={id:i.data.id,Transaction_type:t.transactionType,Order_Number:t.transactionNumber,Date:t.date,Quantity:t.quantity,Store:i.listOfLookup.find(function(e){return e.id==t.store}).name,Qty_Before:t.quantityBefore,After_Qty:t.quantityAfter};i.listOfVoucherTransaction.push(e)}):this.getRefresh(),[2]}})})})},t.prototype.detailItemTransation=function(t){if(this.transactionType=t.key.Order_Number.substring(0,2),"GR"==this.transactionType||"CS"==this.transactionType||"PO"==this.transactionType||"SO"==this.transactionType){var e={id:t.key.id,Order_Number:t.key.Order_Number,date:t.key.Date};this.modalController.dismiss(),this.sharedService.voucherNumber.next(e),this.router.navigate(["/menu/vocher"]),"CS"==this.transactionType?(this.sharedService.VoucherTypeId.next({id:4,name:"Cash Sales"}),this.sharedService.voucherNumber.next(e)):"GR"==this.transactionType?(this.sharedService.VoucherTypeId.next({id:1,name:"Good Recieve"}),this.sharedService.voucherNumber.next(e)):"PO"==this.transactionType?(this.sharedService.VoucherTypeId.next({id:5,name:"Purchase order"}),this.sharedService.voucherNumber.next(e)):"SO"==this.transactionType&&(this.sharedService.VoucherTypeId.next({id:3,name:"Sale order"}),this.sharedService.voucherNumber.next(e))}else"SA"==this.transactionType?(this.modalController.dismiss(),this.router.navigate(["/menu/items"]),this.sharedService.itemsId.next(e={id:t.key.id,quantity:t.key.Quantity,store:t.key.Store})):"ST"==this.transactionType&&(this.modalController.dismiss(),this.router.navigate(["/menu/store-transfer"]),this.sharedService.TranscationType.next(e={id:t.key.id,Order_Number:t.key.Order_Number,date:t.key.Date}))},t.prototype.getRefresh=function(){this.getLookup(),this.getItemsHistory()},t.\u0275fac=function(e){return new(e||t)(o.Yb(r.a),o.Yb(c.a),o.Yb(s.a),o.Yb(a.a),o.Yb(u.a),o.Yb(l.a),o.Yb(h.a),o.Yb(d.a),o.Yb(f.a),o.Yb(p.a),o.Yb(m.g),o.Yb(g.a),o.Yb(b.Z),o.Yb(b.Y))},t.\u0275cmp=o.Sb({type:t,selectors:[["app-item-history"]],inputs:{data:"data"},decls:31,vars:13,consts:[[3,"translucent"],["color","primary"],["slot","start"],["name","arrow-back-outline",2,"font-size","35px","margin-left","13px",3,"click"],["interface","popover",3,"ionChange"],[3,"value",4,"ngFor","ngForOf"],["id","gridContainer",3,"dataSource","allowColumnReordering","columnAutoWidth","showBorders","showRowLines","rowAlternationEnabled","selectedRowKeys","onRowDblClick"],["mode","single"],["dataField","Transaction_type"],["dataField","Order_Number"],["dataField","Date"],["dataField","Store"],["dataField","Qty_Before"],["dataField","Quantity"],["dataField","After_Qty"],[3,"pageSize"],[3,"value"]],template:function(t,e){1&t&&(o.dc(0,"ion-header",0),o.dc(1,"ion-toolbar",1),o.dc(2,"ion-buttons",2),o.dc(3,"ion-icon",3),o.oc("click",function(){return e.closeItemHistory()}),o.cc(),o.cc(),o.dc(4,"ion-title"),o.Oc(5," Item History"),o.cc(),o.cc(),o.cc(),o.dc(6,"ion-content"),o.dc(7,"ion-item"),o.dc(8,"ion-label"),o.Oc(9,"Item Name"),o.cc(),o.dc(10,"ion-label"),o.Oc(11),o.cc(),o.cc(),o.dc(12,"ion-item"),o.dc(13,"ion-label"),o.Oc(14,"Transation Type"),o.cc(),o.dc(15,"ion-select",4),o.oc("ionChange",function(t){return e.TransactionType(t)}),o.Mc(16,O,2,2,"ion-select-option",5),o.cc(),o.dc(17,"ion-label"),o.Oc(18,"Store"),o.cc(),o.dc(19,"ion-select",4),o.oc("ionChange",function(t){return e.Store(t)}),o.Mc(20,S,2,2,"ion-select-option",5),o.cc(),o.cc(),o.dc(21,"dx-data-grid",6),o.oc("onRowDblClick",function(t){return e.detailItemTransation(t)}),o.Zb(22,"dxo-selection",7),o.Zb(23,"dxi-column",8),o.Zb(24,"dxi-column",9),o.Zb(25,"dxi-column",10),o.Zb(26,"dxi-column",11),o.Zb(27,"dxi-column",12),o.Zb(28,"dxi-column",13),o.Zb(29,"dxi-column",14),o.Zb(30,"dxo-paging",15),o.cc(),o.cc()),2&t&&(o.wc("translucent",!0),o.Mb(11),o.Pc(e.data.name),o.Mb(5),o.wc("ngForOf",e.ListoftranscationType),o.Mb(4),o.wc("ngForOf",e.listOfStore),o.Mb(1),o.wc("dataSource",e.listOfVoucherTransaction)("allowColumnReordering",!0)("columnAutoWidth",!0)("showBorders",!0)("showRowLines",!0)("rowAlternationEnabled",!0)("selectedRowKeys",o.zc(12,k)),o.Mb(9),o.wc("pageSize",10))},directives:[b.s,b.V,b.f,b.t,b.U,b.m,b.w,b.A,b.P,b.gb,v.k,y.a,I.ne,I.k,I.Qd,b.Q],styles:[""]}),t}()}}]);