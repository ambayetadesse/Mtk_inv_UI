(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{kT68:function(t,e,c){"use strict";c.r(e),c.d(e,"IdSettingPageModule",function(){return C});var n=c("ofXK"),i=c("3Pt+"),o=c("TEn/"),r=c("tyNb"),l=c("mrSG"),s=c("fXoL"),d=c("hNRj"),a=c("JuFC"),u=c("oOf3"),f=c("cZdB"),g=["pageTop"];function h(t,e){if(1&t&&(s.dc(0,"ion-select-option",38),s.Oc(1),s.cc()),2&t){var c=e.$implicit;s.xc("value",null==c?null:c.id),s.Mb(1),s.Qc(" ",null==c?null:c.name," ")}}function p(t,e){1&t&&(s.dc(0,"small",39),s.Oc(1," This field is required! "),s.cc())}function b(t,e){1&t&&(s.dc(0,"small",39),s.Oc(1," This field is required! "),s.cc())}function m(t,e){1&t&&(s.dc(0,"small",39),s.Oc(1," This field is required! "),s.cc())}function v(t,e){1&t&&(s.dc(0,"small",39),s.Oc(1," This field is required! "),s.cc())}function S(t,e){if(1&t&&(s.dc(0,"option",40),s.Oc(1),s.cc()),2&t){var c=e.$implicit;s.wc("ngValue",c),s.Mb(1),s.Qc(" ",c," ")}}function I(t,e){1&t&&(s.dc(0,"tr"),s.dc(1,"td",41),s.Oc(2," No item selected for this order. "),s.cc(),s.cc())}function O(t,e){if(1&t){var c=s.ec();s.dc(0,"tr"),s.dc(1,"th",42),s.Oc(2),s.cc(),s.dc(3,"td"),s.Oc(4),s.cc(),s.dc(5,"td"),s.Oc(6),s.cc(),s.dc(7,"td"),s.Oc(8),s.cc(),s.dc(9,"td",43),s.oc("click",function(){s.Fc(c);var t=e.$implicit;return s.qc().Edit(t)}),s.Zb(10,"ion-icon",44),s.cc(),s.dc(11,"td",43),s.oc("click",function(){s.Fc(c);var t=e.$implicit;return s.qc().delete(t)}),s.Zb(12,"ion-icon",45),s.cc(),s.cc()}if(2&t){var n=e.$implicit,i=e.index,o=s.qc();s.Qb("active",i==o.currentIndex),s.Mb(2),s.Pc(i+1),s.Mb(2),s.Pc(n.prefix),s.Mb(2),s.Pc(n.suffix),s.Mb(2),s.Pc(n.length)}}var x=function(t,e,c){return{itemsPerPage:t,currentPage:e,totalItems:c}},y=function(t,e){return{"location-visible":t,"location-hidden":e}},M=[{path:"",component:function(){function t(t,e,c,n){this.fb=t,this.idSettingService=e,this.lookupService=c,this.alertController=n,this.editMode=!1,this.page=1,this.count=0,this.tableSize=3,this.tableSizes=[3,6,9,12],this.currentIndex=-1,this.showScroll=!1}return t.prototype.pageScroller=function(){this.pageTop.scrollToTop()},t.prototype.ngOnInit=function(){var t=this;this.regform=this.fb.group({voucherTypeId:["",i.s.required],prefix:["",i.s.required],length:[""],suffix:[""],currentId:[""]}),this.lookupService.getAllLookUp().subscribe(function(e){t.vouchertype=e.filter(function(t){return 1==t.type})}),this.allIdSetting()},t.prototype.scroll=function(t){this.showScroll=t.detail.scrollTop>300},t.prototype.allIdSetting=function(){return Object(l.a)(this,void 0,void 0,function(){var t=this;return Object(l.c)(this,function(e){return this.idSettingService.getAllIdSetting().subscribe(function(e){return Object(l.a)(t,void 0,void 0,function(){var t;return Object(l.c)(this,function(c){switch(c.label){case 0:return t=this,[4,e];case 1:return t.idSettingList=c.sent(),this.lengthOfIdSetting=this.idSettingList.length,[2]}})})}),[2]})})},t.prototype.Save=function(){var t=this;if(this.regform.valid){if(this.IdSettingId){var e={id:this.IdSettingId,voucherTypeId:this.regform.get("voucherTypeId").value,prefix:this.regform.get("prefix").value,length:this.regform.get("length").value,suffix:this.regform.get("suffix").value,currentId:this.regform.get("currentId").value};this.idSettingService.updateIdSetting(e).subscribe(function(e){console.log(e.toString()),t.allIdSetting()})}else this.idSettingService.create(this.regform.value).subscribe(function(e){console.log(e.toString()),t.allIdSetting()});this.regform.reset(),this.IdSettingId=0,this.presentAlert("Save Sucessfully")}else this.presentAlert("Please enter all fields")},t.prototype.presentAlert=function(t){return Object(l.a)(this,void 0,void 0,function(){return Object(l.c)(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Id Setting",message:t,buttons:["OK"]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},t.prototype.Edit=function(t){this.editMode=!0,this.IdSettingId=t.id,this.regform.get("voucherTypeId").setValue(t.voucherTypeId),this.regform.get("length").setValue(t.length),this.regform.get("prefix").setValue(t.prefix),this.regform.get("suffix").setValue(t.suffix),this.regform.get("currentId").setValue(t.currentId)},t.prototype.delete=function(t){this.presentAlertConfirm(t)},t.prototype.presentAlertConfirm=function(t){return Object(l.a)(this,void 0,void 0,function(){var e=this;return Object(l.c)(this,function(c){switch(c.label){case 0:return[4,this.alertController.create({header:"Confirm!",message:"<strong>Are you sure you want delete?</strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"OK",handler:function(){e.idSettingService.removeIdSetting(t.id).subscribe(function(t){console.log(t.toString()),e.allIdSetting()}),e.regform.reset(),e.IdSettingId=null}}]})];case 1:return[4,c.sent().present()];case 2:return c.sent(),[2]}})})},t.prototype.getIdSetting=function(){var t=this;try{this.idSettingService.getAllIdSetting().subscribe(function(e){return Object(l.a)(t,void 0,void 0,function(){var t;return Object(l.c)(this,function(c){switch(c.label){case 0:return e.length>0?(t=this,[4,e]):[3,2];case 1:return t.listOfIdSetting=c.sent(),[3,3];case 2:this.AlertInternet(),c.label=3;case 3:return[2]}})})})}catch(e){console.log(e)}},t.prototype.AlertInternet=function(){return Object(l.a)(this,void 0,void 0,function(){return Object(l.c)(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Internet",message:"Please trun on data or wifi",buttons:["ok"]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.onTableDataChange=function(t){this.page=t,this.getIdSetting()},t.prototype.onTableSizeChange=function(t){this.tableSize=t.target.value,this.page=1,this.getIdSetting()},t.\u0275fac=function(e){return new(e||t)(s.Yb(i.c),s.Yb(d.a),s.Yb(a.a),s.Yb(o.a))},t.\u0275cmp=s.Sb({type:t,selectors:[["app-id-setting"]],viewQuery:function(t,e){var c;1&t&&s.Tc(g,1),2&t&&s.Dc(c=s.pc())&&(e.pageTop=c.first)},decls:81,vars:26,consts:[["color","primary"],["slot","start"],["color","primary","lines","none"],["color","success","slot","end"],["scrollEvents","true",3,"ionScroll"],["pageTop",""],[3,"formGroup"],["lines","full"],["interface","popover","formControlName","voucherTypeId"],[3,"value",4,"ngFor","ngForOf"],["position","floating"],["formControlName","prefix"],["class","form-text text-muted",4,"ngIf"],["formControlName","length"],["formControlName","suffix"],["formControlName","currentId"],[2,"text-align","center","margin","auto"],["id","add items",3,"click"],["slot","start","name","add-circle-outline"],[1,"row"],[1,"col-md-8"],[1,"form-group"],["showCancelButton","never","placeholder","Search",3,"ngModel","ngModelChange"],[1,"col-md-4"],[1,"d-flex","flex-row-reverse","bd-highlight","mb-2"],[1,"p-2","bd-highlight"],[1,"custom-select",3,"change"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"table"],["width","15%"],["scope","col"],[4,"ngIf"],[3,"active",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center"],["responsive","true","previousLabel","Prev","nextLabel","Next",3,"pageChange"],["horizontal","end","vertical","bottom","slot","fixed",3,"ngClass"],["color","light",3,"click"],["md","chevron-up-outline","ios","chevron-up-circle-outline"],[3,"value"],[1,"form-text","text-muted"],[3,"ngValue"],["colspan","5",1,"font-italic","text-center"],["scope","row"],[3,"click"],["name","create","slot","icon-only"],["name","trash","slot","icon-only"]],template:function(t,e){1&t&&(s.dc(0,"ion-header"),s.dc(1,"ion-toolbar",0),s.dc(2,"ion-buttons",1),s.Zb(3,"ion-menu-button"),s.cc(),s.dc(4,"div"),s.dc(5,"ion-item",2),s.dc(6,"ion-label"),s.Oc(7,"Id Setting"),s.cc(),s.dc(8,"ion-badge",3),s.Oc(9),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.dc(10,"ion-content",4,5),s.oc("ionScroll",function(t){return e.scroll(t)}),s.dc(12,"ion-list"),s.dc(13,"form",6),s.dc(14,"ion-item",7),s.dc(15,"ion-label"),s.Oc(16,"Voucher Type"),s.cc(),s.dc(17,"ion-select",8),s.Mc(18,h,2,2,"ion-select-option",9),s.cc(),s.cc(),s.dc(19,"ion-item",7),s.dc(20,"ion-label",10),s.Oc(21,"Prefix"),s.cc(),s.Zb(22,"ion-input",11),s.Mc(23,p,2,0,"small",12),s.cc(),s.dc(24,"ion-item",7),s.dc(25,"ion-label",10),s.Oc(26,"Length"),s.cc(),s.Zb(27,"ion-input",13),s.Mc(28,b,2,0,"small",12),s.cc(),s.dc(29,"ion-item",7),s.dc(30,"ion-label",10),s.Oc(31,"Suffix"),s.cc(),s.Zb(32,"ion-input",14),s.Mc(33,m,2,0,"small",12),s.cc(),s.dc(34,"ion-item",7),s.dc(35,"ion-label",10),s.Oc(36,"Current Id"),s.cc(),s.Zb(37,"ion-input",15),s.Mc(38,v,2,0,"small",12),s.cc(),s.dc(39,"div",16),s.dc(40,"ion-button",17),s.oc("click",function(){return e.Save()}),s.Zb(41,"ion-icon",18),s.Oc(42),s.cc(),s.cc(),s.cc(),s.cc(),s.dc(43,"div",19),s.dc(44,"div",20),s.dc(45,"div",21),s.dc(46,"ion-searchbar",22),s.oc("ngModelChange",function(t){return e.searchText=t}),s.cc(),s.cc(),s.cc(),s.dc(47,"div",23),s.dc(48,"div",21),s.dc(49,"div",24),s.dc(50,"div",25),s.dc(51,"select",26),s.oc("change",function(t){return e.onTableSizeChange(t)}),s.Mc(52,S,2,2,"option",27),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.cc(),s.dc(53,"table",28),s.dc(54,"colgroup"),s.Zb(55,"col",29),s.Zb(56,"col",29),s.Zb(57,"col",29),s.Zb(58,"col",29),s.cc(),s.dc(59,"thead"),s.dc(60,"tr"),s.dc(61,"th",30),s.Oc(62,"#"),s.cc(),s.dc(63,"th",30),s.Oc(64,"Preffix"),s.cc(),s.dc(65,"th",30),s.Oc(66,"Suffix"),s.cc(),s.dc(67,"th",30),s.Oc(68,"Length"),s.cc(),s.dc(69,"th",30),s.Oc(70,"Actions"),s.cc(),s.cc(),s.cc(),s.dc(71,"tbody"),s.Mc(72,I,3,0,"tr",31),s.Mc(73,O,13,6,"tr",32),s.rc(74,"paginate"),s.rc(75,"filter"),s.cc(),s.cc(),s.dc(76,"div",33),s.dc(77,"pagination-controls",34),s.oc("pageChange",function(t){return e.onTableDataChange(t)}),s.cc(),s.cc(),s.dc(78,"ion-fab",35),s.dc(79,"ion-fab-button",36),s.oc("click",function(){return e.pageScroller()}),s.Zb(80,"ion-icon",37),s.cc(),s.cc(),s.cc()),2&t&&(s.Mb(9),s.Pc(e.lengthOfIdSetting),s.Mb(4),s.wc("formGroup",e.regform),s.Mb(5),s.wc("ngForOf",e.vouchertype),s.Mb(5),s.wc("ngIf",!e.regform.get("prefix").valid&&e.regform.get("prefix").touched),s.Mb(5),s.wc("ngIf",!e.regform.get("length").valid&&e.regform.get("length").touched),s.Mb(5),s.wc("ngIf",!e.regform.get("suffix").valid&&e.regform.get("suffix").touched),s.Mb(5),s.wc("ngIf",!e.regform.get("currentId").valid&&e.regform.get("currentId").touched),s.Mb(4),s.Qc(" ",e.editMode?"Update Id Setting":"Add Id Setting"," "),s.Mb(4),s.wc("ngModel",e.searchText),s.Mb(6),s.wc("ngForOf",e.tableSizes),s.Mb(20),s.wc("ngIf",0==(null==e.idSettingList?null:e.idSettingList.length)),s.Mb(1),s.wc("ngForOf",s.tc(74,13,s.tc(75,16,e.idSettingList,e.searchText),s.Cc(19,x,e.tableSize,e.page,e.count))),s.Mb(5),s.wc("ngClass",s.Bc(23,y,e.showScroll,!e.showScroll)))},directives:[o.s,o.V,o.f,o.E,o.w,o.A,o.d,o.m,o.B,i.t,i.l,i.f,o.P,o.gb,i.k,i.d,n.k,o.v,o.hb,n.l,o.e,o.t,o.M,i.n,u.c,o.o,n.j,o.p,o.Q,i.o,i.u],pipes:[u.b,f.a],styles:["ion-content[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{padding:0;--border-radius:14px}ion-content[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%]{--border-radius:14px;--background:#f3f3f3;margin-top:-13px}.location-visible[_ngcontent-%COMP%]{opacity:1;transition:.5s}.location-hidden[_ngcontent-%COMP%]{opacity:0;transition:.5s}"]}),t}()}],w=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Wb({type:t}),t.\u0275inj=s.Vb({imports:[[r.j.forChild(M)],r.j]}),t}(),C=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Wb({type:t}),t.\u0275inj=s.Vb({imports:[[n.b,i.g,o.W,i.q,w,f.b,u.a]]}),t}()}}]);