(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{LLgv:function(t,e,i){"use strict";i.r(e),i.d(e,"SupplierPageModule",function(){return g});var r=i("ofXK"),o=i("3Pt+"),n=i("TEn/"),c=i("tyNb"),s=i("mrSG"),l=i("fXoL"),a=i("cxbk"),u=i("tk/3"),p=function(){function t(t){this.http=t,this.APIURL=a.a.apiURL}return t.prototype.create=function(t){return this.http.post(this.APIURL+"/supplier",t)},t.prototype.getAllSupplier=function(){return this.http.get(this.APIURL+"/supplier")},t.prototype.updateSupplier=function(t){return this.http.put(this.APIURL+"/supplier",t)},t.prototype.removeSupplier=function(t){return this.http.delete(this.APIURL+"/supplier/"+t)},t.\u0275fac=function(e){return new(e||t)(l.kc(u.a))},t.\u0275prov=l.Ub({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),f=["pageTop"];function m(t,e){if(1&t){var i=l.ec();l.dc(0,"ion-item-sliding",null,15),l.dc(2,"ion-item",16),l.dc(3,"ion-label",17),l.dc(4,"h2"),l.Oc(5),l.cc(),l.dc(6,"h3"),l.Oc(7),l.cc(),l.dc(8,"h3"),l.Oc(9),l.cc(),l.cc(),l.cc(),l.dc(10,"ion-item-options",18),l.dc(11,"ion-item-option",19),l.oc("click",function(){l.Fc(i);var t=e.$implicit,r=l.Ec(1);return l.qc().Edit(t,r)}),l.Zb(12,"ion-icon",20),l.cc(),l.dc(13,"ion-item-option",19),l.oc("click",function(){l.Fc(i);var t=e.$implicit,r=l.Ec(1);return l.qc().delete(t,r)}),l.Zb(14,"ion-icon",21),l.cc(),l.cc(),l.cc()}if(2&t){var r=e.$implicit;l.Mb(5),l.Qc("Commision is: ",r.commission,""),l.Mb(2),l.Qc("Location: ",r.location,""),l.Mb(2),l.Qc("Agreement : ",r.agreement,"")}}var d=[{path:"",component:function(){function t(t,e,i,r){this.fb=t,this.supplierService=e,this.platform=i,this.alertController=r,this.regform=this.fb.group({}),this.showScroll=!1}return t.prototype.pageScroller=function(){this.pageTop.scrollToTop()},t.prototype.ngOnInit=function(){this.regform=this.fb.group({balance:["",o.s.required],location:["",o.s.required],country:["",o.s.required],agreement:["",o.s.required],commission:["",o.s.required]}),this.getSupplier(),(this.platform.is("mobile")&&!this.platform.is("hybrid")||this.platform.is("desktop"))&&(this.usePicker=!0)},t.prototype.scroll=function(t){this.showScroll=t.detail.scrollTop>300},t.prototype.getSupplier=function(){var t=this;try{this.supplierService.getAllSupplier().subscribe(function(e){e.length>0?(t.ListOfSupplier=e,t.filteredSupplier=e):t.AlertInternet()})}catch(e){console.log(e)}},t.prototype.AlertInternet=function(){return Object(s.a)(this,void 0,void 0,function(){return Object(s.c)(this,function(t){switch(t.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Internet",message:"Please turn on wifi or data",buttons:["OK"]})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},t.prototype.SaveSupplier=function(){if(this.regform.valid){if(this.supplierId){var t={id:this.supplierId,balance:this.regform.get("balance").value,location:this.regform.get("location").value,country:this.regform.get("country").value,agreement:this.regform.get("agreement").value,commission:this.regform.get("commission").value};this.supplierService.updateSupplier(t)}else this.supplierService.create(this.regform.value);this.regform.reset(),this.supplierId=0,this.presentAlert("Save Sucessfully")}else this.presentAlert("plase enter all fileds")},t.prototype.presentAlert=function(t){return Object(s.a)(this,void 0,void 0,function(){return Object(s.c)(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({cssClass:"my-custom-class",header:"Suppliers",message:t,buttons:["OK"]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})},t.prototype.filter=function(t){this.filteredSupplier=t.target.value?this.ListOfSupplier.filter(function(e){return e.balance.toLowerCase().includes(t.target.value.toLowerCase())}):this.ListOfSupplier},t.prototype.Edit=function(t,e){this.supplierId=t.id,this.regform.get("balance").setValue(t.balance),this.regform.get("agreement").setValue(t.agreement),this.regform.get("commission").setValue(t.commission),this.regform.get("country").setValue(t.country),this.regform.get("location").setValue(t.location),e.close()},t.prototype.delete=function(t,e){this.presentAlertConfirm(t)},t.prototype.presentAlertConfirm=function(t){return Object(s.a)(this,void 0,void 0,function(){var e=this;return Object(s.c)(this,function(i){switch(i.label){case 0:return[4,this.alertController.create({header:"Confirm!",message:"<strong>Are you sure you want delete?</strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"OK",handler:function(){e.supplierService.removeSupplier(t.id),e.regform.reset(),e.supplierId=null}}]})];case 1:return[4,i.sent().present()];case 2:return i.sent(),[2]}})})},t.\u0275fac=function(e){return new(e||t)(l.Yb(o.c),l.Yb(p),l.Yb(n.cb),l.Yb(n.a))},t.\u0275cmp=l.Sb({type:t,selectors:[["app-supplier"]],viewQuery:function(t,e){var i;1&t&&l.Tc(f,1),2&t&&l.Dc(i=l.pc())&&(e.pageTop=i.first)},decls:35,vars:3,consts:[[3,"translucent"],["color","primary"],["slot","start"],[3,"formGroup"],["position","floating"],["formControlName","balance"],["formControlName","location"],["formControlName","country"],["formControlName","agreement"],["formControlName","commission"],[2,"text-align","center","margin","auto"],["id","add items",3,"click"],["slot","start","name","add-circle-outline"],["showCancelButton","never",3,"keyup"],[4,"ngFor","ngForOf"],["slidingItem",""],["detail",""],[2,"background-color","rgb(155, 166, 173)","border-radius","7px","text-align","center","color","rgb(10, 100, 236)"],["side","start"],["color","danger",3,"click"],["name","create","slot","icon-only"],["name","trash","slot","icon-only"]],template:function(t,e){1&t&&(l.dc(0,"ion-header",0),l.dc(1,"ion-toolbar",1),l.dc(2,"ion-buttons",2),l.Zb(3,"ion-menu-button"),l.cc(),l.dc(4,"ion-title"),l.Oc(5,"Supplier Registration"),l.cc(),l.cc(),l.cc(),l.dc(6,"ion-list"),l.dc(7,"form",3),l.dc(8,"ion-item"),l.dc(9,"ion-label",4),l.Oc(10,"Balance"),l.cc(),l.Zb(11,"ion-input",5),l.cc(),l.dc(12,"ion-item"),l.dc(13,"ion-label",4),l.Oc(14,"Location"),l.cc(),l.Zb(15,"ion-input",6),l.cc(),l.dc(16,"ion-item"),l.dc(17,"ion-label",4),l.Oc(18,"Country"),l.cc(),l.Zb(19,"ion-input",7),l.cc(),l.dc(20,"ion-item"),l.dc(21,"ion-label"),l.Oc(22,"Agreement"),l.cc(),l.Zb(23,"ion-input",8),l.cc(),l.dc(24,"ion-item"),l.dc(25,"ion-label"),l.Oc(26,"Commission"),l.cc(),l.Zb(27,"ion-input",9),l.cc(),l.dc(28,"div",10),l.dc(29,"ion-button",11),l.oc("click",function(){return e.SaveSupplier()}),l.Zb(30,"ion-icon",12),l.Oc(31," Add Supplier "),l.cc(),l.cc(),l.cc(),l.cc(),l.dc(32,"ion-content"),l.dc(33,"ion-searchbar",13),l.oc("keyup",function(t){return e.filter(t)}),l.cc(),l.Mc(34,m,15,3,"ion-item-sliding",14),l.cc()),2&t&&(l.wc("translucent",!0),l.Mb(7),l.wc("formGroup",e.regform),l.Mb(27),l.wc("ngForOf",e.ListOfSupplier))},directives:[n.s,n.V,n.f,n.E,n.U,n.B,o.t,o.l,o.f,n.w,n.A,n.v,n.hb,o.k,o.d,n.e,n.t,n.m,n.M,r.k,n.z,n.y,n.x],styles:[".location-visible[_ngcontent-%COMP%]{opacity:1;transition:.5s}.location-hidden[_ngcontent-%COMP%]{opacity:0;transition:.5s}"]}),t}()}],h=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Wb({type:t}),t.\u0275inj=l.Vb({imports:[[c.j.forChild(d)],c.j]}),t}(),g=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Wb({type:t}),t.\u0275inj=l.Vb({imports:[[r.b,o.g,n.W,o.q,h]]}),t}()}}]);